<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Quiz</title>
    <style>
        /* 全局樣式 */
        body {
          font-family: 'Arial', sans-serif;
          background-color: #f4f4f9;
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100vh;
        }
    
        /* 卡片樣式 */
        .quiz-container {
          background-color: #fff;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          border-radius: 10px;
          padding: 20px;
          width: 100%;
          max-width: 1600px;
          text-align: center;
          display: none;
        }
    
        h1 {
          color: #333;
          margin-bottom: 20px;
        }
    
        /* 題庫選擇區域 */
        #questionSet {
          padding: 10px;
          font-size: 16px;
          margin-bottom: 20px;
          border-radius: 5px;
          border: 1px solid #ccc;
        }
    
        /* 題目區域 */
        #question {
          font-size: 20px;
          font-weight: bold;
          margin-bottom: 20px;
        }
    
        /* 選項樣式 */
        #options {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }
    
        label {
          cursor: pointer;
          display: block;
          padding: 10px;
          background-color: #f9f9f9;
          border: 1px solid #ddd;
          border-radius: 5px;
          transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
    
        label:hover {
          background-color: #e0e0e0;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    
        input[type="number"] {
            width: 100%;
            max-width: 100px;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 8px;
            outline: none;
            transition: all 0.3s ease-in-out;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
        }

        input[type="checkbox"],
        input[type="radio"] {
          margin-right: 10px;
        }
    
        /* 按鈕樣式 */
        button {
          background-color: #4CAF50;
          color: white;
          border: none;
          padding: 10px 20px;
          font-size: 16px;
          border-radius: 5px;
          cursor: pointer;
          margin: 10px 5px;
          transition: background-color 0.3s ease;
        }
    
        button:hover {
          background-color: #45a049;
        }
    
        /* 正確率顯示 */
        #accuracy {
          font-size: 18px;
          font-weight: bold;
          background-color: #2196F3;
          color: white;
          padding: 10px;
          border-radius: 5px;
          display: inline-block;
          margin-top: 20px;
        }


        /* 手機樣式 */
        @media (max-width: 768px) {
            body {
                height: auto;
                padding: 20px;
            }

            .quiz-container {
                width: 100%;
                padding: 15px;
            }

            h1 {
                font-size: 24px;
            }

            #question {
                font-size: 18px;
            }

            label {
                font-size: 16px;
                padding: 8px;
            }

            button {
                width: 100%;
                margin: 5px 0;
            }

            #accuracy {
                font-size: 16px;
                padding: 8px;
            }

            #progress {
                font-size: 14px;
            }
        }

      </style>
    


    <script>
const _0x936aac = _0x3f41;
(function (_0x1b874e, _0x29019d) {
    const _0x341c7b = _0x3f41;
    const _0xc99d9b = _0x1b874e();
    while (!![]) {
        try {
            const _0xc2f35a = -parseInt(_0x341c7b(0x151)) / 0x1 + -parseInt(_0x341c7b(0x139)) / 0x2 * (-parseInt(_0x341c7b(0x143)) / 0x3) + -parseInt(_0x341c7b(0x152)) / 0x4 + -parseInt(_0x341c7b(0x137)) / 0x5 * (parseInt(_0x341c7b(0x13e)) / 0x6) + parseInt(_0x341c7b(0x176)) / 0x7 + -parseInt(_0x341c7b(0x160)) / 0x8 * (-parseInt(_0x341c7b(0x130)) / 0x9) + parseInt(_0x341c7b(0x14e)) / 0xa;
            if (_0xc2f35a === _0x29019d) {
                break;
            } else {
                _0xc99d9b['push'](_0xc99d9b['shift']());
            }
        } catch (_0x5652a9) {
            _0xc99d9b['push'](_0xc99d9b['shift']());
        }
    }
}(_0x3c55, 0x538b0));
const _0x4fde12 = (function () {
    let _0x103827 = !![];
    return function (_0x4a1b8d, _0x36a50f) {
        const _0xdcd685 = _0x103827 ? function () {
            if (_0x36a50f) {
                const _0x13d4c1 = _0x36a50f['apply'](_0x4a1b8d, arguments);
                _0x36a50f = null;
                return _0x13d4c1;
            }
        } : function () {
        };
        _0x103827 = ![];
        return _0xdcd685;
    };
}());
const _0x1a5ffb = _0x4fde12(this, function () {
    const _0x477e76 = _0x3f41;
    const _0xd3b6a2 = function () {
        const _0x5ec3f6 = _0x3f41;
        let _0x26166f;
        try {
            _0x26166f = Function(_0x5ec3f6(0x15f) + _0x5ec3f6(0x134) + ');')();
        } catch (_0x4ce817) {
            _0x26166f = window;
        }
        return _0x26166f;
    };
    const _0x6b51a4 = _0xd3b6a2();
    const _0x204e7c = _0x6b51a4[_0x477e76(0x13f)] = _0x6b51a4[_0x477e76(0x13f)] || {};
    const _0x36cf3f = [
        _0x477e76(0x147),
        _0x477e76(0x16b),
        _0x477e76(0x133),
        _0x477e76(0x168),
        _0x477e76(0x140),
        _0x477e76(0x146),
        'trace'
    ];
    for (let _0x122b8e = 0x0; _0x122b8e < _0x36cf3f[_0x477e76(0x16a)]; _0x122b8e++) {
        const _0x5c16cf = _0x4fde12[_0x477e76(0x145)][_0x477e76(0x148)][_0x477e76(0x154)](_0x4fde12);
        const _0x1ab96c = _0x36cf3f[_0x122b8e];
        const _0xc51f = _0x204e7c[_0x1ab96c] || _0x5c16cf;
        _0x5c16cf[_0x477e76(0x15c)] = _0x4fde12['bind'](_0x4fde12);
        _0x5c16cf[_0x477e76(0x132)] = _0xc51f['toString'][_0x477e76(0x154)](_0xc51f);
        _0x204e7c[_0x1ab96c] = _0x5c16cf;
    }
});
_0x1a5ffb();
let validTimeout;
let inputCode;
let i = -0x1;
let totalQuestionsAnswered = 0x0;
let correctAnswers = 0x0;
const secretKey = _0x936aac(0x13b);
async function generateLicenseCode() {
    const _0x5dbc2a = _0x936aac;
    const _0xacb3e4 = new Date();
    const _0x28d2cd = Math[_0x5dbc2a(0x136)](_0xacb3e4[_0x5dbc2a(0x13d)]() / (0x3e8 * 0x3c * 0x3c * 0x18 * 0x1e));
    const _0x4b7080 = _0x28d2cd + '-' + secretKey;
    const _0x12288b = new TextEncoder();
    const _0x2ceb1d = _0x12288b[_0x5dbc2a(0x161)](_0x4b7080);
    const _0x2fa9c7 = await crypto[_0x5dbc2a(0x169)][_0x5dbc2a(0x13c)](_0x5dbc2a(0x156), _0x2ceb1d);
    const _0x3c8d2e = Array[_0x5dbc2a(0x166)](new Uint8Array(_0x2fa9c7));
    return _0x3c8d2e[_0x5dbc2a(0x15a)](_0x26f394 => _0x26f394[_0x5dbc2a(0x132)](0x10)[_0x5dbc2a(0x135)](0x2, '0'))['join']('');
}
async function authorize() {
    const _0x3eda2a = _0x936aac;
    inputCode = document['getElementById']('licenseCode')[_0x3eda2a(0x138)];
    const _0x125480 = await generateLicenseCode();
    if (inputCode === _0x125480) {
        alert(_0x3eda2a(0x178));
        document[_0x3eda2a(0x14f)](_0x3eda2a(0x16e))['style'][_0x3eda2a(0x165)] = _0x3eda2a(0x14a);
        document[_0x3eda2a(0x14f)](_0x3eda2a(0x162))[_0x3eda2a(0x14c)][_0x3eda2a(0x165)] = _0x3eda2a(0x16d);
        checkLicenseValidity();
    } else {
        alert(_0x3eda2a(0x175));
    }
}
async function checkLicenseValidity() {
    const _0x2c4d89 = _0x936aac;
    const _0x227787 = await generateLicenseCode();
    if (_0x227787 === inputCode) {
        console['log'](_0x2c4d89(0x158));
        validTimeout = setTimeout(checkLicenseValidity, 0x18 * 0x3c * 0x3c * 0x3e8);
    } else {
        alert(_0x2c4d89(0x174));
        document['getElementById'](_0x2c4d89(0x16e))[_0x2c4d89(0x14c)]['display'] = _0x2c4d89(0x16d);
        document[_0x2c4d89(0x14f)](_0x2c4d89(0x162))['style'][_0x2c4d89(0x165)] = _0x2c4d89(0x14a);
        resetLicenseCode();
    }
}
function resetLicenseCode() {
    const _0x1cb4b6 = _0x936aac;
    clearTimeout(validTimeout);
    document[_0x1cb4b6(0x14f)]('licenseCode')[_0x1cb4b6(0x138)] = '';
}
async function getQuestionJson(_0x182f36) {
    const _0x836ac4 = _0x936aac;
    let _0x37340c = _0x836ac4(0x159) + _0x182f36;
    let _0x22d9ca = _0x836ac4(0x144) + _0x182f36;
    try {
        let _0x1787dd = await fetch(_0x22d9ca);
        let _0x212269 = await _0x1787dd['json']();
        return _0x212269;
    } catch (_0x11f78e) {
        console[_0x836ac4(0x147)](_0x836ac4(0x155) + _0x11f78e);
    }
}
async function selectQuestionSet() {
    const _0x4d8e11 = _0x936aac;
    const _0x4fcbf8 = document[_0x4d8e11(0x14f)](_0x4d8e11(0x16c))[_0x4d8e11(0x138)];
    selectedQuestions = _0x4fcbf8 ? await getQuestionJson(_0x4fcbf8) : await getQuestionJson(0x1);
    updateProgress();
    resetParams();
}
function startQuiz() {
    const _0x27c324 = _0x936aac;
    if (selectedQuestions[_0x27c324(0x16a)] === 0x0) {
        alert('Please\x20select\x20a\x20question\x20set\x20first!');
        return;
    }
    loadQuestion();
}
function _0x3f41(_0x1c2e0f, _0x45f969) {
    const _0x2ba878 = _0x3c55();
    _0x3f41 = function (_0x1a5ffb, _0x4fde12) {
        _0x1a5ffb = _0x1a5ffb - 0x12f;
        let _0x58fa8e = _0x2ba878[_0x1a5ffb];
        return _0x58fa8e;
    };
    return _0x3f41(_0x1c2e0f, _0x45f969);
}
function _0x3c55() {
    const _0x2b3714 = [
        'error',
        'subtle',
        'length',
        'warn',
        'questionSet',
        'none',
        'quizContainer',
        '\x22\x20name=\x22option\x22\x20value=\x22',
        'createElement',
        'join',
        '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22',
        'isNaN',
        '授權過期！請重新輸入授權碼。',
        '授權失敗！請輸入正確的授權碼。',
        '4786726kEIFzu',
        '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>',
        '授權成功！',
        '\x20/\x20',
        '9lMjmIs',
        'radio',
        'toString',
        'info',
        '{}.constructor(\x22return\x20this\x22)(\x20)',
        'padStart',
        'floor',
        '3073655AektsN',
        'value',
        '2LhCOVi',
        'checkbox',
        'mySecretKey123',
        'digest',
        'getTime',
        '6bnhaMq',
        'console',
        'exception',
        'jumpTo',
        'appendChild',
        '930906fZHoQV',
        'https://aws-test-0kjz.onrender.com/getQuestion/',
        'constructor',
        'table',
        'log',
        'prototype',
        'toFixed',
        'block',
        'accuracy',
        'style',
        '請輸入有效的題號！',
        '533300oIQCxs',
        'getElementById',
        'split',
        '556158qbGByZ',
        '498704BEHijX',
        'progress',
        'bind',
        'Error:\x20',
        'SHA-256',
        'options',
        '授權有效',
        'http://localhost:3000/getQuestion/',
        'map',
        'question',
        '__proto__',
        'innerHTML',
        '答對率:\x20',
        'return\x20(function()\x20',
        '4722456NTHdEy',
        'encode',
        'licenseArea',
        'input[name=\x22option\x22]:checked',
        'answer',
        'display',
        'from',
        'querySelectorAll'
    ];
    _0x3c55 = function () {
        return _0x2b3714;
    };
    return _0x3c55();
}
function getRandomQuestion(_0x3e7cd3) {
    const _0x5b95ec = _0x936aac;
    if (_0x3e7cd3 && !Number[_0x5b95ec(0x173)](_0x3e7cd3)) {
        i = _0x3e7cd3 - 0x1;
    } else {
        i++;
    }
    if (i > selectedQuestions[_0x5b95ec(0x16a)] - 0x1) {
        i = -0x1;
    }
    return selectedQuestions[i];
}
function loadQuestion(_0x328617) {
    const _0xf376c1 = _0x936aac;
    const _0x163b44 = getRandomQuestion(_0x328617);
    document[_0xf376c1(0x14f)](_0xf376c1(0x15b))['innerText'] = _0x163b44['id'] + '.' + _0x163b44[_0xf376c1(0x15b)];
    document[_0xf376c1(0x14f)]('options')['innerHTML'] = '';
    const _0x2616c2 = _0x163b44[_0xf376c1(0x164)]['length'] > 0x1;
    for (const [_0x4387fd, _0x50b2ee] of Object['entries'](_0x163b44[_0xf376c1(0x157)])) {
        const _0x27cde2 = document[_0xf376c1(0x170)]('div');
        _0x27cde2[_0xf376c1(0x15d)] = _0xf376c1(0x172) + (_0x2616c2 ? _0xf376c1(0x13a) : _0xf376c1(0x131)) + _0xf376c1(0x16f) + _0x4387fd + '\x22>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20' + _0x4387fd + ':\x20' + _0x50b2ee + _0xf376c1(0x177);
        document[_0xf376c1(0x14f)](_0xf376c1(0x157))[_0xf376c1(0x142)](_0x27cde2);
    }
    document[_0xf376c1(0x14f)](_0xf376c1(0x164))['value'] = _0x163b44['answer'];
}
function jumpToQuestion() {
    const _0x525700 = _0x936aac;
    const _0x4082d8 = parseInt(document[_0x525700(0x14f)](_0x525700(0x141))[_0x525700(0x138)], 0xa);
    if (isNaN(_0x4082d8) || _0x4082d8 < 0x1 || _0x4082d8 > selectedQuestions[_0x525700(0x16a)]) {
        alert(_0x525700(0x14d));
        return;
    }
    loadQuestion(_0x4082d8);
    document[_0x525700(0x14f)]('jumpTo')[_0x525700(0x138)] = '';
}
function checkAnswer() {
    const _0x398ce4 = _0x936aac;
    const _0x2d5fac = document[_0x398ce4(0x14f)]('answer')[_0x398ce4(0x138)];
    const _0x182705 = Array[_0x398ce4(0x166)](document[_0x398ce4(0x167)](_0x398ce4(0x163)))[_0x398ce4(0x15a)](_0x4677b2 => _0x4677b2[_0x398ce4(0x138)])['sort']()[_0x398ce4(0x171)]('');
    totalQuestionsAnswered++;
    if (_0x182705 === _0x2d5fac) {
        correctAnswers++;
        alert('Correct!');
    } else {
        alert('Wrong!\x20The\x20correct\x20answers\x20are\x20' + _0x2d5fac[_0x398ce4(0x150)]('')[_0x398ce4(0x171)](',\x20'));
    }
    updateAccuracy();
    updateProgress();
    loadQuestion();
}
function updateAccuracy() {
    const _0x20fde4 = _0x936aac;
    const _0x1f4e6c = (correctAnswers / totalQuestionsAnswered * 0x64)[_0x20fde4(0x149)](0x2);
    document['getElementById'](_0x20fde4(0x14b))['innerText'] = _0x20fde4(0x15e) + _0x1f4e6c + '%';
}
function updateProgress() {
    const _0x667b5 = _0x936aac;
    document[_0x667b5(0x14f)](_0x667b5(0x153))['innerText'] = totalQuestionsAnswered + _0x667b5(0x12f) + selectedQuestions[_0x667b5(0x16a)];
}
function resetParams() {
    i = -0x1;
    totalQuestionsAnswered = 0x0;
    correctAnswers = 0x0;
}
document['addEventListener']('DOMContentLoaded', () => {
    selectQuestionSet();
});
    </script>
</head>
<body>
   <span id="licenseArea">
      <h1>請輸入授權碼</h1>
      <input type="text" id="licenseCode" placeholder="Enter your license code">
      <button onclick="authorize()">授權</button>
   </span>
   
    <div id="quizContainer" class="quiz-container">
        <h1>測驗</h1>

        <!-- 題庫選擇下拉選單 -->
        <label for="questionSet">選擇題庫:</label>
        <select id="questionSet" onchange="selectQuestionSet()">
            <option value="1">題庫1</option>
            <option value="2">題庫2</option>
            <option value="3">題庫3</option>
            <option value="4">題庫GCP_ACE</option>
        </select>

        <button onclick="startQuiz()">開始測驗</button>

        <div id="question"></div>
        <div id="options"></div>
        <input type="hidden" id="answer">
        <button onclick="checkAnswer()">確定</button>
        <button onclick="loadQuestion()">下一題</button>
        <label for="jumpTo">跳至題號:</label>
        <input type="number" id="jumpTo" min="1" placeholder="輸入題號">
        <button onclick="jumpToQuestion()">跳轉</button>
        <h2 id="accuracy">答對率: 0%</h2>
        <h2 id="progress"></h2>
    </div>
    
</body>
</html>
