<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Quiz</title>
    <style>
        /* 全局樣式 */
        body {
          font-family: 'Arial', sans-serif;
          background-color: #f4f4f9;
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100vh;
        }
    
        /* 卡片樣式 */
        .quiz-container {
          background-color: #fff;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          border-radius: 10px;
          padding: 20px;
          width: 100%;
          max-width: 1600px;
          text-align: center;
          display: none;
        }
    
        h1 {
          color: #333;
          margin-bottom: 20px;
        }
    
        /* 題庫選擇區域 */
        #questionSet {
          padding: 10px;
          font-size: 16px;
          margin-bottom: 20px;
          border-radius: 5px;
          border: 1px solid #ccc;
        }
    
        /* 題目區域 */
        #question {
          font-size: 20px;
          font-weight: bold;
          margin-bottom: 20px;
        }
    
        /* 選項樣式 */
        #options {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }
    
        label {
          cursor: pointer;
          display: block;
          padding: 10px;
          background-color: #f9f9f9;
          border: 1px solid #ddd;
          border-radius: 5px;
          transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
    
        label:hover {
          background-color: #e0e0e0;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    
        input[type="number"] {
            width: 100%;
            max-width: 100px;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 8px;
            outline: none;
            transition: all 0.3s ease-in-out;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
        }

        input[type="checkbox"],
        input[type="radio"] {
          margin-right: 10px;
        }
    
        /* 按鈕樣式 */
        button {
          background-color: #4CAF50;
          color: white;
          border: none;
          padding: 10px 20px;
          font-size: 16px;
          border-radius: 5px;
          cursor: pointer;
          margin: 10px 5px;
          transition: background-color 0.3s ease;
        }
    
        button:hover {
          background-color: #45a049;
        }
    
        /* 正確率顯示 */
        #accuracy {
          font-size: 18px;
          font-weight: bold;
          background-color: #2196F3;
          color: white;
          padding: 10px;
          border-radius: 5px;
          display: inline-block;
          margin-top: 20px;
        }


        /* 手機樣式 */
        @media (max-width: 768px) {
            body {
                height: auto;
                padding: 20px;
            }

            .quiz-container {
                width: 100%;
                padding: 15px;
            }

            h1 {
                font-size: 24px;
            }

            #question {
                font-size: 18px;
            }

            label {
                font-size: 16px;
                padding: 8px;
            }

            button {
                width: 100%;
                margin: 5px 0;
            }

            #accuracy {
                font-size: 16px;
                padding: 8px;
            }

            #progress {
                font-size: 14px;
            }
        }

      </style>
    


    <script>
      const _0x10b6a2 = _0x4a8e;
(function (_0x51a630, _0x159752) {
    const _0x4b1e2b = _0x4a8e, _0x34109d = _0x51a630();
    while (!![]) {
        try {
            const _0x4d9957 = parseInt(_0x4b1e2b(0x7d)) / 0x1 * (parseInt(_0x4b1e2b(0xa5)) / 0x2) + -parseInt(_0x4b1e2b(0x70)) / 0x3 * (parseInt(_0x4b1e2b(0x89)) / 0x4) + -parseInt(_0x4b1e2b(0x9a)) / 0x5 + parseInt(_0x4b1e2b(0xb1)) / 0x6 + -parseInt(_0x4b1e2b(0xa2)) / 0x7 * (-parseInt(_0x4b1e2b(0x98)) / 0x8) + parseInt(_0x4b1e2b(0x8c)) / 0x9 + parseInt(_0x4b1e2b(0x9c)) / 0xa;
            if (_0x4d9957 === _0x159752)
                break;
            else
                _0x34109d['push'](_0x34109d['shift']());
        } catch (_0x77aa61) {
            _0x34109d['push'](_0x34109d['shift']());
        }
    }
}(_0x44e7, 0xa7380));
const _0x19f6c9 = (function () {
        let _0x1baf54 = !![];
        return function (_0x4342d6, _0x34510a) {
            const _0x33477d = _0x1baf54 ? function () {
                const _0x582cf6 = _0x4a8e;
                if (_0x34510a) {
                    const _0x3fd2e2 = _0x34510a[_0x582cf6(0x8b)](_0x4342d6, arguments);
                    return _0x34510a = null, _0x3fd2e2;
                }
            } : function () {
            };
            return _0x1baf54 = ![], _0x33477d;
        };
    }()), _0x5d0eca = _0x19f6c9(this, function () {
        const _0xd2ca06 = _0x4a8e;
        let _0x4ab11d;
        try {
            const _0x1f7e3d = Function(_0xd2ca06(0x7c) + _0xd2ca06(0x8a) + ');');
            _0x4ab11d = _0x1f7e3d();
        } catch (_0x35952a) {
            _0x4ab11d = window;
        }
        const _0x598d28 = _0x4ab11d[_0xd2ca06(0xb3)] = _0x4ab11d[_0xd2ca06(0xb3)] || {}, _0x1e6bf3 = [
                _0xd2ca06(0x9e),
                _0xd2ca06(0x8e),
                _0xd2ca06(0xa0),
                'error',
                _0xd2ca06(0x7b),
                _0xd2ca06(0x91),
                _0xd2ca06(0x8f)
            ];
        for (let _0x198454 = 0x0; _0x198454 < _0x1e6bf3['length']; _0x198454++) {
            const _0x23da11 = _0x19f6c9[_0xd2ca06(0x85)]['prototype'][_0xd2ca06(0x72)](_0x19f6c9), _0x153d35 = _0x1e6bf3[_0x198454], _0xcbf064 = _0x598d28[_0x153d35] || _0x23da11;
            _0x23da11['__proto__'] = _0x19f6c9[_0xd2ca06(0x72)](_0x19f6c9), _0x23da11[_0xd2ca06(0x99)] = _0xcbf064['toString'][_0xd2ca06(0x72)](_0xcbf064), _0x598d28[_0x153d35] = _0x23da11;
        }
    });
_0x5d0eca();
let validTimeout, inputCode, i = -0x1, totalQuestionsAnswered = 0x0, correctAnswers = 0x0;
function _0x4a8e(_0x5247f1, _0x4575e0) {
    const _0x380237 = _0x44e7();
    return _0x4a8e = function (_0x5d0eca, _0x19f6c9) {
        _0x5d0eca = _0x5d0eca - 0x6b;
        let _0x1db1ce = _0x380237[_0x5d0eca];
        return _0x1db1ce;
    }, _0x4a8e(_0x5247f1, _0x4575e0);
}
const secretKey = _0x10b6a2(0x88);
async function generateLicenseCode() {
    const _0x2aacbc = _0x10b6a2, _0x2f760e = new Date(), _0x369c0f = Math[_0x2aacbc(0xab)](_0x2f760e[_0x2aacbc(0x77)]() / (0x3e8 * 0x3c * 0x3c * 0x18 * 0x1e)), _0x54f064 = _0x369c0f + '-' + secretKey, _0x1d8e43 = new TextEncoder(), _0x24a894 = _0x1d8e43[_0x2aacbc(0x84)](_0x54f064), _0x34f6f1 = await crypto[_0x2aacbc(0xa1)][_0x2aacbc(0x73)](_0x2aacbc(0x9f), _0x24a894), _0x4bd6cd = Array['from'](new Uint8Array(_0x34f6f1));
    return _0x4bd6cd['map'](_0x5b1e60 => _0x5b1e60[_0x2aacbc(0x99)](0x10)[_0x2aacbc(0xac)](0x2, '0'))[_0x2aacbc(0x90)]('');
}
async function authorize() {
    const _0x538aae = _0x10b6a2;
    inputCode = document[_0x538aae(0x75)](_0x538aae(0x9b))[_0x538aae(0x82)];
    const _0x3def99 = await generateLicenseCode();
    inputCode === _0x3def99 ? (alert(_0x538aae(0xaf)), document[_0x538aae(0x75)](_0x538aae(0x78))['style'][_0x538aae(0x95)] = _0x538aae(0xa4), document[_0x538aae(0x75)](_0x538aae(0xa7))[_0x538aae(0x96)]['display'] = _0x538aae(0x7a), checkLicenseValidity()) : alert(_0x538aae(0x87));
}
async function checkLicenseValidity() {
    const _0x4613fa = _0x10b6a2, _0x22f169 = await generateLicenseCode();
    _0x22f169 === inputCode ? (console[_0x4613fa(0x9e)](_0x4613fa(0x79)), validTimeout = setTimeout(checkLicenseValidity, 0x18 * 0x3c * 0x3c * 0x3e8)) : (alert('授權過期！請重新輸入授權碼。'), document[_0x4613fa(0x75)]('quizContainer')['style']['display'] = _0x4613fa(0x7a), document[_0x4613fa(0x75)]('licenseArea')[_0x4613fa(0x96)][_0x4613fa(0x95)] = _0x4613fa(0xa4), resetLicenseCode());
}
function resetLicenseCode() {
    const _0x178b62 = _0x10b6a2;
    clearTimeout(validTimeout), document[_0x178b62(0x75)]('licenseCode')[_0x178b62(0x82)] = '';
}
async function getQuestionJson(_0x28133f) {
    const _0x4daeda = _0x10b6a2;
    let _0x263653 = 'https://aws-test-0kjz.onrender.com/getQuestion/' + _0x28133f;
    try {
        let _0x243f7e = await fetch(_0x263653), _0x14e7bc = await _0x243f7e[_0x4daeda(0x6c)]();
        return _0x14e7bc;
    } catch (_0x394c61) {
        console[_0x4daeda(0x9e)](_0x4daeda(0x92) + _0x394c61);
    }
}
async function selectQuestionSet() {
    const _0x3d1e1d = _0x10b6a2, _0x4c7007 = document[_0x3d1e1d(0x75)](_0x3d1e1d(0xa9))[_0x3d1e1d(0x82)];
    selectedQuestions = _0x4c7007 ? await getQuestionJson(_0x4c7007) : await getQuestionJson(0x1), updateProgress(), resetParams();
}
function startQuiz() {
    const _0x119d8d = _0x10b6a2;
    if (selectedQuestions[_0x119d8d(0x6d)] === 0x0) {
        alert(_0x119d8d(0x6f));
        return;
    }
    loadQuestion();
}
function getRandomQuestion() {
    const _0x325bcc = _0x10b6a2;
    return i++, i > selectedQuestions[_0x325bcc(0x6d)] - 0x1 && (i = -0x1), selectedQuestions[i];
}
function loadQuestion() {
    const _0x4437d8 = _0x10b6a2, _0x39df06 = getRandomQuestion();
    document['getElementById'](_0x4437d8(0xa3))['innerText'] = _0x39df06['id'] + '.' + _0x39df06[_0x4437d8(0xa3)], document[_0x4437d8(0x75)](_0x4437d8(0x8d))[_0x4437d8(0xae)] = '';
    const _0x96d73c = _0x39df06['answer'][_0x4437d8(0x6d)] > 0x1;
    for (const [_0x22dda6, _0x3f99c4] of Object[_0x4437d8(0x7e)](_0x39df06[_0x4437d8(0x8d)])) {
        const _0x2bfafd = document[_0x4437d8(0x71)](_0x4437d8(0x6b));
        _0x2bfafd[_0x4437d8(0xae)] = '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22' + (_0x96d73c ? _0x4437d8(0x86) : 'radio') + _0x4437d8(0x94) + _0x22dda6 + _0x4437d8(0xb4) + _0x22dda6 + ':\x20' + _0x3f99c4 + _0x4437d8(0x81), document[_0x4437d8(0x75)]('options')['appendChild'](_0x2bfafd);
    }
    document['getElementById'](_0x4437d8(0xa6))[_0x4437d8(0x82)] = _0x39df06[_0x4437d8(0xa6)];
}
function jumpToQuestion() {
    const _0x36789f = _0x10b6a2, _0x265001 = parseInt(document[_0x36789f(0x75)]('jumpTo')['value'], 0xa);
    if (isNaN(_0x265001) || _0x265001 < 0x1 || _0x265001 > selectedQuestions[_0x36789f(0x6d)]) {
        alert('請輸入有效的題號！');
        return;
    }
    i = _0x265001 - 0x1, loadQuestion(), document[_0x36789f(0x75)](_0x36789f(0xb0))['value'] = '';
}
function _0x44e7() {
    const _0x398df1 = [
        'floor',
        'padStart',
        'input[name=\x22option\x22]:checked',
        'innerHTML',
        '授權成功！',
        'jumpTo',
        '5093958qHPUKE',
        'innerText',
        'console',
        '\x22>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',
        'div',
        'json',
        'length',
        'progress',
        'Please\x20select\x20a\x20question\x20set\x20first!',
        '9003YHTaHm',
        'createElement',
        'bind',
        'digest',
        'accuracy',
        'getElementById',
        '答對率:\x20',
        'getTime',
        'quizContainer',
        '授權有效',
        'none',
        'exception',
        'return\x20(function()\x20',
        '9357gvGPsw',
        'entries',
        'sort',
        'split',
        '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>',
        'value',
        'Correct!',
        'encode',
        'constructor',
        'checkbox',
        '授權失敗！請輸入正確的授權碼。',
        'mySecretKey123',
        '1572daHhFg',
        '{}.constructor(\x22return\x20this\x22)(\x20)',
        'apply',
        '9088965GaiIps',
        'options',
        'warn',
        'trace',
        'join',
        'table',
        'Error:\x20',
        '\x20/\x20',
        '\x22\x20name=\x22option\x22\x20value=\x22',
        'display',
        'style',
        'addEventListener',
        '16iDwdJx',
        'toString',
        '4328620jfRSbh',
        'licenseCode',
        '756720PFPjuA',
        'from',
        'log',
        'SHA-256',
        'info',
        'subtle',
        '459018bbfVuW',
        'question',
        'block',
        '142zWsqzh',
        'answer',
        'licenseArea',
        'toFixed',
        'questionSet',
        'DOMContentLoaded'
    ];
    _0x44e7 = function () {
        return _0x398df1;
    };
    return _0x44e7();
}
function checkAnswer() {
    const _0xce0d47 = _0x10b6a2, _0x430910 = document[_0xce0d47(0x75)](_0xce0d47(0xa6))[_0xce0d47(0x82)], _0x32af13 = Array[_0xce0d47(0x9d)](document['querySelectorAll'](_0xce0d47(0xad)))['map'](_0x43bdd4 => _0x43bdd4[_0xce0d47(0x82)])[_0xce0d47(0x7f)]()[_0xce0d47(0x90)]('');
    totalQuestionsAnswered++, _0x32af13 === _0x430910 ? (correctAnswers++, alert(_0xce0d47(0x83))) : alert('Wrong!\x20The\x20correct\x20answers\x20are\x20' + _0x430910[_0xce0d47(0x80)]('')['join'](',\x20')), updateAccuracy(), updateProgress(), loadQuestion();
}
function updateAccuracy() {
    const _0x1ed48f = _0x10b6a2, _0x51373b = (correctAnswers / totalQuestionsAnswered * 0x64)[_0x1ed48f(0xa8)](0x2);
    document['getElementById'](_0x1ed48f(0x74))[_0x1ed48f(0xb2)] = _0x1ed48f(0x76) + _0x51373b + '%';
}
function updateProgress() {
    const _0x562519 = _0x10b6a2;
    document[_0x562519(0x75)](_0x562519(0x6e))['innerText'] = totalQuestionsAnswered + _0x562519(0x93) + selectedQuestions['length'];
}
function resetParams() {
    i = -0x1, totalQuestionsAnswered = 0x0, correctAnswers = 0x0;
}
document[_0x10b6a2(0x97)](_0x10b6a2(0xaa), () => {
    selectQuestionSet();
});
    </script>
</head>
<body>
   <span id="licenseArea">
      <h1>請輸入授權碼</h1>
      <input type="text" id="licenseCode" placeholder="Enter your license code">
      <button onclick="authorize()">授權</button>
   </span>
   
    <div id="quizContainer" class="quiz-container">
        <h1>測驗</h1>

        <!-- 題庫選擇下拉選單 -->
        <label for="questionSet">選擇題庫:</label>
        <select id="questionSet" onchange="selectQuestionSet()">
            <option value="1">題庫1</option>
            <option value="2">題庫2</option>
            <option value="3">題庫3</option>
        </select>

        <button onclick="startQuiz()">開始測驗</button>

        <div id="question"></div>
        <div id="options"></div>
        <input type="hidden" id="answer">
        <button onclick="checkAnswer()">確定</button>
        <button onclick="loadQuestion()">下一題</button>
        <label for="jumpTo">跳至題號:</label>
        <input type="number" id="jumpTo" min="1" placeholder="輸入題號">
        <button onclick="jumpToQuestion()">跳轉</button>
        <h2 id="accuracy">答對率: 0%</h2>
        <h2 id="progress"></h2>
    </div>
    
</body>
</html>
