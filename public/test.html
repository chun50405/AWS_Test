<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Quiz</title>
    <style>
        /* 全局樣式 */
        body {
          font-family: 'Arial', sans-serif;
          background-color: #f4f4f9;
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100vh;
        }
    
        /* 卡片樣式 */
        .quiz-container {
          background-color: #fff;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          border-radius: 10px;
          padding: 20px;
          width: 100%;
          max-width: 1600px;
          text-align: center;
          display: none;
        }
    
        h1 {
          color: #333;
          margin-bottom: 20px;
        }
    
        /* 題庫選擇區域 */
        #questionSet {
          padding: 10px;
          font-size: 16px;
          margin-bottom: 20px;
          border-radius: 5px;
          border: 1px solid #ccc;
        }
    
        /* 題目區域 */
        #question {
          font-size: 20px;
          font-weight: bold;
          margin-bottom: 20px;
        }
    
        /* 選項樣式 */
        #options {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }
    
        label {
          cursor: pointer;
          display: block;
          padding: 10px;
          background-color: #f9f9f9;
          border: 1px solid #ddd;
          border-radius: 5px;
          transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
    
        label:hover {
          background-color: #e0e0e0;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    
        input[type="checkbox"],
        input[type="radio"] {
          margin-right: 10px;
        }
    
        /* 按鈕樣式 */
        button {
          background-color: #4CAF50;
          color: white;
          border: none;
          padding: 10px 20px;
          font-size: 16px;
          border-radius: 5px;
          cursor: pointer;
          margin: 10px 5px;
          transition: background-color 0.3s ease;
        }
    
        button:hover {
          background-color: #45a049;
        }
    
        /* 正確率顯示 */
        #accuracy {
          font-size: 18px;
          font-weight: bold;
          background-color: #2196F3;
          color: white;
          padding: 10px;
          border-radius: 5px;
          display: inline-block;
          margin-top: 20px;
        }


        /* 手機樣式 */
        @media (max-width: 768px) {
            body {
                height: auto;
                padding: 20px;
            }

            .quiz-container {
                width: 100%;
                padding: 15px;
            }

            h1 {
                font-size: 24px;
            }

            #question {
                font-size: 18px;
            }

            label {
                font-size: 16px;
                padding: 8px;
            }

            button {
                width: 100%;
                margin: 5px 0;
            }

            #accuracy {
                font-size: 16px;
                padding: 8px;
            }

            #progress {
                font-size: 14px;
            }
        }

      </style>
    


    <script>
     const _0x397915 = _0x1a8a;
(function (_0x5722cc, _0x2df280) {
    const _0x477048 = _0x1a8a, _0x139831 = _0x5722cc();
    while (!![]) {
        try {
            const _0x4c9386 = -parseInt(_0x477048(0xf7)) / 0x1 * (parseInt(_0x477048(0xd4)) / 0x2) + parseInt(_0x477048(0xc5)) / 0x3 * (-parseInt(_0x477048(0xf8)) / 0x4) + parseInt(_0x477048(0xcf)) / 0x5 * (-parseInt(_0x477048(0xea)) / 0x6) + -parseInt(_0x477048(0xfc)) / 0x7 + -parseInt(_0x477048(0xd6)) / 0x8 + -parseInt(_0x477048(0xd0)) / 0x9 * (-parseInt(_0x477048(0xed)) / 0xa) + parseInt(_0x477048(0xd3)) / 0xb;
            if (_0x4c9386 === _0x2df280)
                break;
            else
                _0x139831['push'](_0x139831['shift']());
        } catch (_0xfd2df4) {
            _0x139831['push'](_0x139831['shift']());
        }
    }
}(_0x4fbe, 0xc409f));
const _0x31470a = (function () {
        let _0x66fa42 = !![];
        return function (_0x513d97, _0x70196a) {
            const _0xf86b95 = _0x66fa42 ? function () {
                const _0x549b66 = _0x1a8a;
                if (_0x70196a) {
                    const _0x2fa390 = _0x70196a[_0x549b66(0xff)](_0x513d97, arguments);
                    return _0x70196a = null, _0x2fa390;
                }
            } : function () {
            };
            return _0x66fa42 = ![], _0xf86b95;
        };
    }()), _0x1070fa = _0x31470a(this, function () {
        const _0x9e5424 = _0x1a8a;
        let _0x23f5c5;
        try {
            const _0x2d9d29 = Function('return\x20(function()\x20' + '{}.constructor(\x22return\x20this\x22)(\x20)' + ');');
            _0x23f5c5 = _0x2d9d29();
        } catch (_0x4395b0) {
            _0x23f5c5 = window;
        }
        const _0x5d03a4 = _0x23f5c5[_0x9e5424(0xe7)] = _0x23f5c5[_0x9e5424(0xe7)] || {}, _0x257a6d = [
                _0x9e5424(0xf6),
                _0x9e5424(0xe3),
                'info',
                'error',
                _0x9e5424(0xcd),
                _0x9e5424(0xf2),
                _0x9e5424(0xe6)
            ];
        for (let _0x19257e = 0x0; _0x19257e < _0x257a6d['length']; _0x19257e++) {
            const _0x521759 = _0x31470a[_0x9e5424(0xe4)]['prototype'][_0x9e5424(0xfd)](_0x31470a), _0x835950 = _0x257a6d[_0x19257e], _0x33b0d7 = _0x5d03a4[_0x835950] || _0x521759;
            _0x521759[_0x9e5424(0xc4)] = _0x31470a[_0x9e5424(0xfd)](_0x31470a), _0x521759[_0x9e5424(0xeb)] = _0x33b0d7[_0x9e5424(0xeb)][_0x9e5424(0xfd)](_0x33b0d7), _0x5d03a4[_0x835950] = _0x521759;
        }
    });
_0x1070fa();
let validTimeout, inputCode, i = -0x1, totalQuestionsAnswered = 0x0, correctAnswers = 0x0;
const secretKey = 'mySecretKey123';
async function generateLicenseCode() {
    const _0x540c5f = _0x1a8a, _0x303e41 = new Date(), _0x34f06b = Math['floor'](_0x303e41['getTime']() / (0x3e8 * 0x3c * 0x3c * 0x18 * 0x1e)), _0xdfc092 = _0x34f06b + '-' + secretKey, _0x5866ce = new TextEncoder(), _0x477cc3 = _0x5866ce[_0x540c5f(0xc3)](_0xdfc092), _0x24be93 = await crypto[_0x540c5f(0xd9)]['digest'](_0x540c5f(0xca), _0x477cc3), _0x1acb35 = Array[_0x540c5f(0xde)](new Uint8Array(_0x24be93));
    return _0x1acb35['map'](_0x19d121 => _0x19d121[_0x540c5f(0xeb)](0x10)['padStart'](0x2, '0'))[_0x540c5f(0xfa)]('');
}
async function authorize() {
    const _0x3be137 = _0x1a8a;
    inputCode = document[_0x3be137(0xc2)](_0x3be137(0xf3))['value'];
    const _0x39355a = await generateLicenseCode();
    inputCode === _0x39355a ? (alert(_0x3be137(0xf9)), document[_0x3be137(0xc2)]('quizContainer')[_0x3be137(0xda)][_0x3be137(0x100)] = _0x3be137(0xe0), document[_0x3be137(0xc2)](_0x3be137(0xf0))[_0x3be137(0xda)][_0x3be137(0x100)] = 'none', checkLicenseValidity()) : alert(_0x3be137(0xc7));
}
async function checkLicenseValidity() {
    const _0x33ad0f = _0x1a8a, _0x154754 = await generateLicenseCode();
    _0x154754 === inputCode ? (console[_0x33ad0f(0xf6)](_0x33ad0f(0xcb)), validTimeout = setTimeout(checkLicenseValidity, 0x18 * 0x3c * 0x3c * 0x3e8)) : (alert('授權過期！請重新輸入授權碼。'), document[_0x33ad0f(0xc2)]('quizContainer')[_0x33ad0f(0xda)]['display'] = 'none', document[_0x33ad0f(0xc2)](_0x33ad0f(0xf0))[_0x33ad0f(0xda)][_0x33ad0f(0x100)] = 'block', resetLicenseCode());
}
function resetLicenseCode() {
    const _0x1ae4e0 = _0x1a8a;
    clearTimeout(validTimeout), document[_0x1ae4e0(0xc2)]('licenseCode')[_0x1ae4e0(0xc6)] = '';
}
async function getQuestionJson(_0x4cd76b) {
    const _0x29bfb8 = _0x1a8a;
    let _0x2f5f1a = _0x29bfb8(0xf5) + _0x4cd76b;
    try {
        let _0x42c380 = await fetch(_0x2f5f1a), _0x2cd8a1 = await _0x42c380['json']();
        return _0x2cd8a1;
    } catch (_0x24538e) {
        cconsole[_0x29bfb8(0xf6)](_0x29bfb8(0xee) + _0x24538e);
    }
}
function _0x1a8a(_0x160817, _0x512b01) {
    const _0x5c27e9 = _0x4fbe();
    return _0x1a8a = function (_0x1070fa, _0x31470a) {
        _0x1070fa = _0x1070fa - 0xc2;
        let _0xed94e9 = _0x5c27e9[_0x1070fa];
        return _0xed94e9;
    }, _0x1a8a(_0x160817, _0x512b01);
}
function _0x4fbe() {
    const _0x169c01 = [
        'display',
        'getElementById',
        'encode',
        '__proto__',
        '3cPvPiA',
        'value',
        '授權失敗！請輸入正確的授權碼。',
        'question',
        'div',
        'SHA-256',
        '授權有效',
        'innerHTML',
        'exception',
        'toFixed',
        '205tXcZRq',
        '9562545sxDYUQ',
        'checkbox',
        'querySelectorAll',
        '42726266UhjZhj',
        '14bDITmF',
        'answer',
        '12145784fnYOEr',
        'DOMContentLoaded',
        'progress',
        'subtle',
        'style',
        'sort',
        '\x22\x20name=\x22option\x22\x20value=\x22',
        'options',
        'from',
        'split',
        'block',
        'accuracy',
        'length',
        'warn',
        'constructor',
        'entries',
        'trace',
        'console',
        'map',
        '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22',
        '152130ZNpZiZ',
        'toString',
        'createElement',
        '10tRUxAD',
        'Error:\x20',
        'addEventListener',
        'licenseArea',
        'questionSet',
        'table',
        'licenseCode',
        'appendChild',
        'http://localhost:3000/getQuestion/',
        'log',
        '81596OeGQTx',
        '2069156OEqsLU',
        '授權成功！',
        'join',
        'radio',
        '3482479nRnGhm',
        'bind',
        '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>',
        'apply'
    ];
    _0x4fbe = function () {
        return _0x169c01;
    };
    return _0x4fbe();
}
async function selectQuestionSet() {
    const _0xf31496 = _0x1a8a, _0x135ab9 = document[_0xf31496(0xc2)](_0xf31496(0xf1))[_0xf31496(0xc6)];
    selectedQuestions = _0x135ab9 ? await getQuestionJson(_0x135ab9) : await getQuestionJson(0x1), updateProgress(), resetParams();
}
function startQuiz() {
    const _0x3632e6 = _0x1a8a;
    if (selectedQuestions[_0x3632e6(0xe2)] === 0x0) {
        alert('Please\x20select\x20a\x20question\x20set\x20first!');
        return;
    }
    loadQuestion();
}
function getRandomQuestion() {
    return i++, i > selectedQuestions['length'] - 0x1 && (i = -0x1), selectedQuestions[i];
}
function loadQuestion() {
    const _0x1be8b0 = _0x1a8a, _0x2d9bd5 = getRandomQuestion();
    document[_0x1be8b0(0xc2)](_0x1be8b0(0xc8))['innerText'] = _0x2d9bd5['id'] + '.' + _0x2d9bd5['question'], document[_0x1be8b0(0xc2)](_0x1be8b0(0xdd))[_0x1be8b0(0xcc)] = '';
    const _0x49283c = _0x2d9bd5[_0x1be8b0(0xd5)]['length'] > 0x1;
    for (const [_0x4b8c26, _0x2223d8] of Object[_0x1be8b0(0xe5)](_0x2d9bd5[_0x1be8b0(0xdd)])) {
        const _0x2753db = document[_0x1be8b0(0xec)](_0x1be8b0(0xc9));
        _0x2753db[_0x1be8b0(0xcc)] = _0x1be8b0(0xe9) + (_0x49283c ? _0x1be8b0(0xd1) : _0x1be8b0(0xfb)) + _0x1be8b0(0xdc) + _0x4b8c26 + '\x22>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20' + _0x4b8c26 + ':\x20' + _0x2223d8 + _0x1be8b0(0xfe), document[_0x1be8b0(0xc2)](_0x1be8b0(0xdd))[_0x1be8b0(0xf4)](_0x2753db);
    }
    document[_0x1be8b0(0xc2)](_0x1be8b0(0xd5))[_0x1be8b0(0xc6)] = _0x2d9bd5['answer'];
}
function checkAnswer() {
    const _0x420aac = _0x1a8a, _0xf67986 = document['getElementById'](_0x420aac(0xd5))[_0x420aac(0xc6)], _0x3210a4 = Array[_0x420aac(0xde)](document[_0x420aac(0xd2)]('input[name=\x22option\x22]:checked'))[_0x420aac(0xe8)](_0x1e356d => _0x1e356d['value'])[_0x420aac(0xdb)]()['join']('');
    totalQuestionsAnswered++, _0x3210a4 === _0xf67986 ? (correctAnswers++, alert('Correct!')) : alert('Wrong!\x20The\x20correct\x20answers\x20are\x20' + _0xf67986[_0x420aac(0xdf)]('')[_0x420aac(0xfa)](',\x20')), updateAccuracy(), updateProgress(), loadQuestion();
}
function updateAccuracy() {
    const _0x363dd1 = _0x1a8a, _0x250f23 = (correctAnswers / totalQuestionsAnswered * 0x64)[_0x363dd1(0xce)](0x2);
    document[_0x363dd1(0xc2)](_0x363dd1(0xe1))['innerText'] = '答對率:\x20' + _0x250f23 + '%';
}
function updateProgress() {
    const _0x447a38 = _0x1a8a;
    document['getElementById'](_0x447a38(0xd8))['innerText'] = totalQuestionsAnswered + '\x20/\x20' + selectedQuestions[_0x447a38(0xe2)];
}
function resetParams() {
    i = -0x1, totalQuestionsAnswered = 0x0, correctAnswers = 0x0;
}
document[_0x397915(0xef)](_0x397915(0xd7), () => {
    selectQuestionSet();
});
    </script>
</head>
<body>
   <span id="licenseArea">
      <h1>請輸入授權碼</h1>
      <input type="text" id="licenseCode" placeholder="Enter your license code">
      <button onclick="authorize()">授權</button>
   </span>
   
    <div id="quizContainer" class="quiz-container">
        <h1>測驗</h1>

        <!-- 題庫選擇下拉選單 -->
        <label for="questionSet">選擇題庫:</label>
        <select id="questionSet" onchange="selectQuestionSet()">
            <option value="1">題庫1</option>
            <option value="2">題庫2</option>
        </select>

        <button onclick="startQuiz()">開始測驗</button>

        <div id="question"></div>
        <div id="options"></div>
        <input type="hidden" id="answer">
        <button onclick="checkAnswer()">確定</button>
        <button onclick="loadQuestion()">下一題</button>
        <h2 id="accuracy">答對率: 0%</h2>
        <h2 id="progress"></h2>
    </div>
    
</body>
</html>
