<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Quiz</title>
    <style>
        /* 全局樣式 */
        body {
          font-family: 'Arial', sans-serif;
          background-color: #f4f4f9;
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100vh;
        }
    
        /* 卡片樣式 */
        .quiz-container {
          background-color: #fff;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          border-radius: 10px;
          padding: 20px;
          width: 100%;
          max-width: 1600px;
          text-align: center;
          display: none;
        }
    
        h1 {
          color: #333;
          margin-bottom: 20px;
        }
    
        /* 題庫選擇區域 */
        #questionSet {
          padding: 10px;
          font-size: 16px;
          margin-bottom: 20px;
          border-radius: 5px;
          border: 1px solid #ccc;
        }
    
        /* 題目區域 */
        #question {
          font-size: 20px;
          font-weight: bold;
          margin-bottom: 20px;
        }
    
        /* 選項樣式 */
        #options {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }
    
        label {
          cursor: pointer;
          display: block;
          padding: 10px;
          background-color: #f9f9f9;
          border: 1px solid #ddd;
          border-radius: 5px;
          transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
    
        label:hover {
          background-color: #e0e0e0;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    
        input[type="number"] {
            width: 100%;
            max-width: 100px;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 8px;
            outline: none;
            transition: all 0.3s ease-in-out;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
        }

        input[type="checkbox"],
        input[type="radio"] {
          margin-right: 10px;
        }
    
        /* 按鈕樣式 */
        button {
          background-color: #4CAF50;
          color: white;
          border: none;
          padding: 10px 20px;
          font-size: 16px;
          border-radius: 5px;
          cursor: pointer;
          margin: 10px 5px;
          transition: background-color 0.3s ease;
        }
    
        button:hover {
          background-color: #45a049;
        }
    
        /* 正確率顯示 */
        #accuracy {
          font-size: 18px;
          font-weight: bold;
          background-color: #2196F3;
          color: white;
          padding: 10px;
          border-radius: 5px;
          display: inline-block;
          margin-top: 20px;
        }


        /* 手機樣式 */
        @media (max-width: 768px) {
            body {
                height: auto;
                padding: 20px;
            }

            .quiz-container {
                width: 100%;
                padding: 15px;
            }

            h1 {
                font-size: 24px;
            }

            #question {
                font-size: 18px;
            }

            label {
                font-size: 16px;
                padding: 8px;
            }

            button {
                width: 100%;
                margin: 5px 0;
            }

            #accuracy {
                font-size: 16px;
                padding: 8px;
            }

            #progress {
                font-size: 14px;
            }
        }

      </style>
    


    <script>
const _0x5b61af = _0x486b;
(function (_0x2ee80a, _0x3d4254) {
    const _0x3de237 = _0x486b;
    const _0xd0a01c = _0x2ee80a();
    while (!![]) {
        try {
            const _0x27b91b = parseInt(_0x3de237(0x16d)) / 0x1 * (parseInt(_0x3de237(0x154)) / 0x2) + parseInt(_0x3de237(0x17c)) / 0x3 * (-parseInt(_0x3de237(0x16f)) / 0x4) + parseInt(_0x3de237(0x15a)) / 0x5 + parseInt(_0x3de237(0x15e)) / 0x6 * (-parseInt(_0x3de237(0x163)) / 0x7) + parseInt(_0x3de237(0x159)) / 0x8 * (-parseInt(_0x3de237(0x162)) / 0x9) + parseInt(_0x3de237(0x18b)) / 0xa + -parseInt(_0x3de237(0x168)) / 0xb * (-parseInt(_0x3de237(0x156)) / 0xc);
            if (_0x27b91b === _0x3d4254) {
                break;
            } else {
                _0xd0a01c['push'](_0xd0a01c['shift']());
            }
        } catch (_0x4eb138) {
            _0xd0a01c['push'](_0xd0a01c['shift']());
        }
    }
}(_0x24bf, 0x3834f));
let validTimeout;
let inputCode;
let i = -0x1;
let totalQuestionsAnswered = 0x0;
let correctAnswers = 0x0;
const secretKey = _0x5b61af(0x176);
async function generateLicenseCode() {
    const _0x593b92 = _0x5b61af;
    const _0x5b95ca = new Date();
    const _0x3c1b42 = Math[_0x593b92(0x157)](_0x5b95ca['getTime']() / (0x3e8 * 0x3c * 0x3c * 0x18 * 0x1e));
    const _0x1869cd = _0x3c1b42 + '-' + secretKey;
    const _0xf96051 = new TextEncoder();
    const _0x486341 = _0xf96051[_0x593b92(0x17a)](_0x1869cd);
    const _0x28a656 = await crypto['subtle'][_0x593b92(0x164)](_0x593b92(0x173), _0x486341);
    const _0x566fba = Array['from'](new Uint8Array(_0x28a656));
    return _0x566fba[_0x593b92(0x17f)](_0x4c0716 => _0x4c0716['toString'](0x10)[_0x593b92(0x185)](0x2, '0'))[_0x593b92(0x179)]('');
}
async function authorize() {
    const _0x17d819 = _0x5b61af;
    inputCode = document['getElementById'](_0x17d819(0x178))[_0x17d819(0x174)];
    const _0x3d28d7 = await generateLicenseCode();
    if (inputCode === _0x3d28d7) {
        alert(_0x17d819(0x180));
        document[_0x17d819(0x17e)](_0x17d819(0x172))[_0x17d819(0x155)][_0x17d819(0x186)] = _0x17d819(0x175);
        document[_0x17d819(0x17e)]('licenseArea')[_0x17d819(0x155)][_0x17d819(0x186)] = _0x17d819(0x181);
        checkLicenseValidity();
    } else {
        alert(_0x17d819(0x158));
    }
}
async function checkLicenseValidity() {
    const _0x2107ed = _0x5b61af;
    const _0x3102bf = await generateLicenseCode();
    if (_0x3102bf === inputCode) {
        console[_0x2107ed(0x151)]('授權有效');
        validTimeout = setTimeout(checkLicenseValidity, 0x18 * 0x3c * 0x3c * 0x3e8);
    } else {
        alert(_0x2107ed(0x15d));
        document['getElementById'](_0x2107ed(0x172))[_0x2107ed(0x155)]['display'] = _0x2107ed(0x181);
        document['getElementById'](_0x2107ed(0x18a))[_0x2107ed(0x155)][_0x2107ed(0x186)] = _0x2107ed(0x175);
        resetLicenseCode();
    }
}
function resetLicenseCode() {
    const _0x2b3aa1 = _0x5b61af;
    clearTimeout(validTimeout);
    document[_0x2b3aa1(0x17e)](_0x2b3aa1(0x178))[_0x2b3aa1(0x174)] = '';
}
function _0x486b(_0x28dbbe, _0x566da9) {
    const _0x24bfcb = _0x24bf();
    _0x486b = function (_0x486bea, _0x499d97) {
        _0x486bea = _0x486bea - 0x150;
        let _0x4be3b3 = _0x24bfcb[_0x486bea];
        return _0x4be3b3;
    };
    return _0x486b(_0x28dbbe, _0x566da9);
}
async function getQuestionJson(_0x4667d6) {
    const _0x744149 = _0x5b61af;
    let _0x5e274b = 'https://aws-test-0kjz.onrender.com/getQuestion/' + _0x4667d6;
    try {
        let _0x5954d2 = await fetch(_0x5e274b);
        let _0x40893c = await _0x5954d2[_0x744149(0x182)]();
        return _0x40893c;
    } catch (_0x4ace24) {
        console['log'](_0x744149(0x150) + _0x4ace24);
    }
}
function _0x24bf() {
    const _0x22836b = [
        '授權失敗！請輸入正確的授權碼。',
        '1835168xhOBNU',
        '1283605QDpOdk',
        'questionSet',
        'addEventListener',
        '授權過期！請重新輸入授權碼。',
        '20442OsTRZq',
        'div',
        'toFixed',
        '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>',
        '9kbwPHb',
        '665svwRUN',
        'digest',
        'querySelectorAll',
        'input[name=\x22option\x22]:checked',
        '\x22>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',
        '880zmpLSn',
        'entries',
        'sort',
        '\x22\x20name=\x22option\x22\x20value=\x22',
        'innerHTML',
        '71059ZutxhM',
        'answer',
        '305532aifoiY',
        'length',
        'Please\x20select\x20a\x20question\x20set\x20first!',
        'quizContainer',
        'SHA-256',
        'value',
        'block',
        'mySecretKey123',
        'createElement',
        'licenseCode',
        'join',
        'encode',
        'accuracy',
        '3hOZCGA',
        'checkbox',
        'getElementById',
        'map',
        '授權成功！',
        'none',
        'json',
        'Wrong!\x20The\x20correct\x20answers\x20are\x20',
        'progress',
        'padStart',
        'display',
        'question',
        'DOMContentLoaded',
        'Correct!',
        'licenseArea',
        '1375710oOiPWO',
        'innerText',
        'Error:\x20',
        'log',
        'jumpTo',
        'appendChild',
        '10vcLaEN',
        'style',
        '16512TgZtew',
        'floor'
    ];
    _0x24bf = function () {
        return _0x22836b;
    };
    return _0x24bf();
}
async function selectQuestionSet() {
    const _0x21e756 = _0x5b61af;
    const _0x5c88de = document[_0x21e756(0x17e)](_0x21e756(0x15b))[_0x21e756(0x174)];
    selectedQuestions = _0x5c88de ? await getQuestionJson(_0x5c88de) : await getQuestionJson(0x1);
    updateProgress();
    resetParams();
}
function startQuiz() {
    const _0x59560a = _0x5b61af;
    if (selectedQuestions[_0x59560a(0x170)] === 0x0) {
        alert(_0x59560a(0x171));
        return;
    }
    loadQuestion();
}
function getRandomQuestion() {
    const _0x15ca17 = _0x5b61af;
    i++;
    if (i > selectedQuestions[_0x15ca17(0x170)] - 0x1) {
        i = -0x1;
    }
    return selectedQuestions[i];
}
function loadQuestion() {
    const _0x1ca2d2 = _0x5b61af;
    const _0x199560 = getRandomQuestion();
    document[_0x1ca2d2(0x17e)](_0x1ca2d2(0x187))[_0x1ca2d2(0x18c)] = _0x199560['id'] + '.' + _0x199560[_0x1ca2d2(0x187)];
    document[_0x1ca2d2(0x17e)]('options')['innerHTML'] = '';
    const _0x7dfe18 = _0x199560[_0x1ca2d2(0x16e)]['length'] > 0x1;
    for (const [_0x6b9ea9, _0x10de08] of Object[_0x1ca2d2(0x169)](_0x199560['options'])) {
        const _0x5c5dfd = document[_0x1ca2d2(0x177)](_0x1ca2d2(0x15f));
        _0x5c5dfd[_0x1ca2d2(0x16c)] = '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22' + (_0x7dfe18 ? _0x1ca2d2(0x17d) : 'radio') + _0x1ca2d2(0x16b) + _0x6b9ea9 + _0x1ca2d2(0x167) + _0x6b9ea9 + ':\x20' + _0x10de08 + _0x1ca2d2(0x161);
        document[_0x1ca2d2(0x17e)]('options')[_0x1ca2d2(0x153)](_0x5c5dfd);
    }
    document[_0x1ca2d2(0x17e)](_0x1ca2d2(0x16e))[_0x1ca2d2(0x174)] = _0x199560[_0x1ca2d2(0x16e)];
}
function jumpToQuestion() {
    const _0x480540 = _0x5b61af;
    const _0xd00c0f = parseInt(document[_0x480540(0x17e)](_0x480540(0x152))[_0x480540(0x174)], 0xa);
    if (isNaN(_0xd00c0f) || _0xd00c0f < 0x1 || _0xd00c0f > selectedQuestions['length']) {
        alert('請輸入有效的題號！');
        return;
    }
    i = _0xd00c0f;
    loadQuestion();
    document['getElementById'](_0x480540(0x152))[_0x480540(0x174)] = '';
}
function checkAnswer() {
    const _0x3fafbd = _0x5b61af;
    const _0x262fbb = document[_0x3fafbd(0x17e)](_0x3fafbd(0x16e))[_0x3fafbd(0x174)];
    const _0x6e8cb2 = Array['from'](document[_0x3fafbd(0x165)](_0x3fafbd(0x166)))[_0x3fafbd(0x17f)](_0x1d4fff => _0x1d4fff[_0x3fafbd(0x174)])[_0x3fafbd(0x16a)]()[_0x3fafbd(0x179)]('');
    totalQuestionsAnswered++;
    if (_0x6e8cb2 === _0x262fbb) {
        correctAnswers++;
        alert(_0x3fafbd(0x189));
    } else {
        alert(_0x3fafbd(0x183) + _0x262fbb['split']('')[_0x3fafbd(0x179)](',\x20'));
    }
    updateAccuracy();
    updateProgress();
    loadQuestion();
}
function updateAccuracy() {
    const _0x1fd5ee = _0x5b61af;
    const _0x46ff5c = (correctAnswers / totalQuestionsAnswered * 0x64)[_0x1fd5ee(0x160)](0x2);
    document[_0x1fd5ee(0x17e)](_0x1fd5ee(0x17b))[_0x1fd5ee(0x18c)] = '答對率:\x20' + _0x46ff5c + '%';
}
function updateProgress() {
    const _0xb0cbbb = _0x5b61af;
    document['getElementById'](_0xb0cbbb(0x184))[_0xb0cbbb(0x18c)] = totalQuestionsAnswered + '\x20/\x20' + selectedQuestions[_0xb0cbbb(0x170)];
}
function resetParams() {
    i = -0x1;
    totalQuestionsAnswered = 0x0;
    correctAnswers = 0x0;
}
document[_0x5b61af(0x15c)](_0x5b61af(0x188), () => {
    selectQuestionSet();
});
    </script>
</head>
<body>
   <span id="licenseArea">
      <h1>請輸入授權碼</h1>
      <input type="text" id="licenseCode" placeholder="Enter your license code">
      <button onclick="authorize()">授權</button>
   </span>
   
    <div id="quizContainer" class="quiz-container">
        <h1>測驗</h1>

        <!-- 題庫選擇下拉選單 -->
        <label for="questionSet">選擇題庫:</label>
        <select id="questionSet" onchange="selectQuestionSet()">
            <option value="1">題庫1</option>
            <option value="2">題庫2</option>
            <option value="3">題庫3</option>
            <option value="4">題庫GCP_ACE</option>
        </select>

        <button onclick="startQuiz()">開始測驗</button>

        <div id="question"></div>
        <div id="options"></div>
        <input type="hidden" id="answer">
        <button onclick="checkAnswer()">確定</button>
        <button onclick="loadQuestion()">下一題</button>
        <label for="jumpTo">跳至題號:</label>
        <input type="number" id="jumpTo" min="1" placeholder="輸入題號">
        <button onclick="jumpToQuestion()">跳轉</button>
        <h2 id="accuracy">答對率: 0%</h2>
        <h2 id="progress"></h2>
    </div>
    
</body>
</html>
