<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Quiz</title>
    <style>
        /* 全局樣式 */
        body {
          font-family: 'Arial', sans-serif;
          background-color: #f4f4f9;
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100vh;
        }
    
        /* 卡片樣式 */
        .quiz-container {
          background-color: #fff;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          border-radius: 10px;
          padding: 20px;
          width: 100%;
          max-width: 1600px;
          text-align: center;
          display: none;
        }
    
        h1 {
          color: #333;
          margin-bottom: 20px;
        }
    
        /* 題庫選擇區域 */
        #questionSet {
          padding: 10px;
          font-size: 16px;
          margin-bottom: 20px;
          border-radius: 5px;
          border: 1px solid #ccc;
        }
    
        /* 題目區域 */
        #question {
          font-size: 20px;
          font-weight: bold;
          margin-bottom: 20px;
        }
    
        /* 選項樣式 */
        #options {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }
    
        label {
          cursor: pointer;
          display: block;
          padding: 10px;
          background-color: #f9f9f9;
          border: 1px solid #ddd;
          border-radius: 5px;
          transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
    
        label:hover {
          background-color: #e0e0e0;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    
        input[type="checkbox"],
        input[type="radio"] {
          margin-right: 10px;
        }
    
        /* 按鈕樣式 */
        button {
          background-color: #4CAF50;
          color: white;
          border: none;
          padding: 10px 20px;
          font-size: 16px;
          border-radius: 5px;
          cursor: pointer;
          margin: 10px 5px;
          transition: background-color 0.3s ease;
        }
    
        button:hover {
          background-color: #45a049;
        }
    
        /* 正確率顯示 */
        #accuracy {
          font-size: 18px;
          font-weight: bold;
          background-color: #2196F3;
          color: white;
          padding: 10px;
          border-radius: 5px;
          display: inline-block;
          margin-top: 20px;
        }


        /* 手機樣式 */
        @media (max-width: 768px) {
            body {
                height: auto;
                padding: 20px;
            }

            .quiz-container {
                width: 100%;
                padding: 15px;
            }

            h1 {
                font-size: 24px;
            }

            #question {
                font-size: 18px;
            }

            label {
                font-size: 16px;
                padding: 8px;
            }

            button {
                width: 100%;
                margin: 5px 0;
            }

            #accuracy {
                font-size: 16px;
                padding: 8px;
            }

            #progress {
                font-size: 14px;
            }
        }

      </style>
    


    <script>
    const _0x2e57cc = _0x2aee;
(function (_0x400e0a, _0xc9e1a0) {
    const _0x441b8b = _0x2aee, _0x302f50 = _0x400e0a();
    while (!![]) {
        try {
            const _0x351b28 = parseInt(_0x441b8b(0xc8)) / 0x1 + -parseInt(_0x441b8b(0xbb)) / 0x2 * (-parseInt(_0x441b8b(0x9c)) / 0x3) + -parseInt(_0x441b8b(0xad)) / 0x4 + parseInt(_0x441b8b(0xcd)) / 0x5 + parseInt(_0x441b8b(0xcf)) / 0x6 * (parseInt(_0x441b8b(0xa8)) / 0x7) + -parseInt(_0x441b8b(0xa9)) / 0x8 * (parseInt(_0x441b8b(0xc3)) / 0x9) + -parseInt(_0x441b8b(0xa7)) / 0xa * (-parseInt(_0x441b8b(0xcc)) / 0xb);
            if (_0x351b28 === _0xc9e1a0)
                break;
            else
                _0x302f50['push'](_0x302f50['shift']());
        } catch (_0x1e2161) {
            _0x302f50['push'](_0x302f50['shift']());
        }
    }
}(_0x39a1, 0x32c03));
const _0x7eaf10 = (function () {
        let _0x1b2eb9 = !![];
        return function (_0x35149b, _0x30b7e3) {
            const _0x4e7ef0 = _0x1b2eb9 ? function () {
                if (_0x30b7e3) {
                    const _0xe78c03 = _0x30b7e3['apply'](_0x35149b, arguments);
                    return _0x30b7e3 = null, _0xe78c03;
                }
            } : function () {
            };
            return _0x1b2eb9 = ![], _0x4e7ef0;
        };
    }()), _0x5bae9c = _0x7eaf10(this, function () {
        const _0xf417f3 = _0x2aee;
        let _0x344926;
        try {
            const _0x398e38 = Function(_0xf417f3(0xa3) + _0xf417f3(0xa4) + ');');
            _0x344926 = _0x398e38();
        } catch (_0x565a50) {
            _0x344926 = window;
        }
        const _0x2a6713 = _0x344926[_0xf417f3(0xd2)] = _0x344926[_0xf417f3(0xd2)] || {}, _0x4830b3 = [
                'log',
                'warn',
                'info',
                _0xf417f3(0xb2),
                _0xf417f3(0xb6),
                'table',
                'trace'
            ];
        for (let _0x4ba4a0 = 0x0; _0x4ba4a0 < _0x4830b3[_0xf417f3(0xa1)]; _0x4ba4a0++) {
            const _0x43548d = _0x7eaf10[_0xf417f3(0xac)]['prototype'][_0xf417f3(0xc4)](_0x7eaf10), _0x381cb0 = _0x4830b3[_0x4ba4a0], _0x5e375a = _0x2a6713[_0x381cb0] || _0x43548d;
            _0x43548d[_0xf417f3(0xc1)] = _0x7eaf10[_0xf417f3(0xc4)](_0x7eaf10), _0x43548d[_0xf417f3(0xbd)] = _0x5e375a['toString']['bind'](_0x5e375a), _0x2a6713[_0x381cb0] = _0x43548d;
        }
    });
function _0x39a1() {
    const _0x4d1d78 = [
        'join',
        'quizContainer',
        'log',
        'getElementById',
        '\x20/\x20',
        '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22',
        'split',
        'json',
        'floor',
        '授權成功！',
        '25017fJVtmf',
        '\x22\x20name=\x22option\x22\x20value=\x22',
        'from',
        'querySelectorAll',
        'options',
        'length',
        'progress',
        'return\x20(function()\x20',
        '{}.constructor(\x22return\x20this\x22)(\x20)',
        'radio',
        'value',
        '19830UhaUuL',
        '56WFTFAz',
        '15784DplRrN',
        'style',
        '授權有效',
        'constructor',
        '1513316mFmDph',
        '\x22>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',
        'subtle',
        'Please\x20select\x20a\x20question\x20set\x20first!',
        'Wrong!\x20The\x20correct\x20answers\x20are\x20',
        'error',
        'questionSet',
        'map',
        'SHA-256',
        'exception',
        'sort',
        'Correct!',
        'licenseArea',
        'question',
        '74CUcqrS',
        'toFixed',
        'toString',
        'answer',
        '授權過期！請重新輸入授權碼。',
        'padStart',
        '__proto__',
        'Error:\x20',
        '810FeBxqg',
        'bind',
        'mySecretKey123',
        'none',
        'licenseCode',
        '101301qYFNZD',
        'block',
        'display',
        'checkbox',
        '550GQvILG',
        '628020XFZyKd',
        'entries',
        '96882zKuhwN',
        'digest',
        'innerHTML',
        'console'
    ];
    _0x39a1 = function () {
        return _0x4d1d78;
    };
    return _0x39a1();
}
_0x5bae9c();
let validTimeout, inputCode, i = -0x1, totalQuestionsAnswered = 0x0, correctAnswers = 0x0;
const secretKey = _0x2e57cc(0xc5);
async function generateLicenseCode() {
    const _0x1a36bf = _0x2e57cc, _0x31b0ca = new Date(), _0x4c0f29 = Math[_0x1a36bf(0x9a)](_0x31b0ca['getTime']() / (0x3e8 * 0x3c * 0x3c * 0x18 * 0x1e)), _0x6fc319 = _0x4c0f29 + '-' + secretKey, _0x1ba91f = new TextEncoder(), _0xcec792 = _0x1ba91f['encode'](_0x6fc319), _0x2b5015 = await crypto[_0x1a36bf(0xaf)][_0x1a36bf(0xd0)](_0x1a36bf(0xb5), _0xcec792), _0x1d75a7 = Array[_0x1a36bf(0x9e)](new Uint8Array(_0x2b5015));
    return _0x1d75a7[_0x1a36bf(0xb4)](_0x3656d1 => _0x3656d1[_0x1a36bf(0xbd)](0x10)[_0x1a36bf(0xc0)](0x2, '0'))[_0x1a36bf(0xd3)]('');
}
async function authorize() {
    const _0x23a3ec = _0x2e57cc;
    inputCode = document[_0x23a3ec(0x95)](_0x23a3ec(0xc7))[_0x23a3ec(0xa6)];
    const _0x47ebe0 = await generateLicenseCode();
    inputCode === _0x47ebe0 ? (alert(_0x23a3ec(0x9b)), document[_0x23a3ec(0x95)](_0x23a3ec(0xd4))[_0x23a3ec(0xaa)][_0x23a3ec(0xca)] = _0x23a3ec(0xc9), document[_0x23a3ec(0x95)](_0x23a3ec(0xb9))['style'][_0x23a3ec(0xca)] = _0x23a3ec(0xc6), checkLicenseValidity()) : alert('授權失敗！請輸入正確的授權碼。');
}
async function checkLicenseValidity() {
    const _0x1b6d19 = _0x2e57cc, _0x392615 = await generateLicenseCode();
    _0x392615 === inputCode ? (console[_0x1b6d19(0x94)](_0x1b6d19(0xab)), validTimeout = setTimeout(checkLicenseValidity, 0x18 * 0x3c * 0x3c * 0x3e8)) : (alert(_0x1b6d19(0xbf)), document['getElementById'](_0x1b6d19(0xd4))[_0x1b6d19(0xaa)][_0x1b6d19(0xca)] = _0x1b6d19(0xc6), document[_0x1b6d19(0x95)](_0x1b6d19(0xb9))[_0x1b6d19(0xaa)][_0x1b6d19(0xca)] = _0x1b6d19(0xc9), resetLicenseCode());
}
function resetLicenseCode() {
    const _0x7188e1 = _0x2e57cc;
    clearTimeout(validTimeout), document['getElementById']('licenseCode')[_0x7188e1(0xa6)] = '';
}
async function getQuestionJson(_0x25ffb9) {
    const _0x5d0b06 = _0x2e57cc;
    let _0xee5da3 = 'https://aws-test-0kjz.onrender.com/getQuestion/' + _0x25ffb9;
    try {
        let _0x333c1a = await fetch(url), _0x2dcfa9 = await _0x333c1a[_0x5d0b06(0x99)]();
        return _0x2dcfa9;
    } catch (_0x3c6890) {
        console[_0x5d0b06(0x94)](_0x5d0b06(0xc2) + _0x3c6890);
    }
}
async function selectQuestionSet() {
    const _0xd7e5ad = _0x2e57cc, _0x28ab2d = document[_0xd7e5ad(0x95)](_0xd7e5ad(0xb3))[_0xd7e5ad(0xa6)];
    selectedQuestions = _0x28ab2d ? await getQuestionJson(_0x28ab2d) : await getQuestionJson(0x1), updateProgress(), resetParams();
}
function _0x2aee(_0x173079, _0xff8caf) {
    const _0x1ee196 = _0x39a1();
    return _0x2aee = function (_0x5bae9c, _0x7eaf10) {
        _0x5bae9c = _0x5bae9c - 0x94;
        let _0xfdc546 = _0x1ee196[_0x5bae9c];
        return _0xfdc546;
    }, _0x2aee(_0x173079, _0xff8caf);
}
function startQuiz() {
    const _0x1b95aa = _0x2e57cc;
    if (selectedQuestions[_0x1b95aa(0xa1)] === 0x0) {
        alert(_0x1b95aa(0xb0));
        return;
    }
    loadQuestion();
}
function getRandomQuestion() {
    return i++, i > selectedQuestions['length'] - 0x1 && (i = -0x1), selectedQuestions[i];
}
function loadQuestion() {
    const _0x37a8d7 = _0x2e57cc, _0x16f2cd = getRandomQuestion();
    document['getElementById'](_0x37a8d7(0xba))['innerText'] = _0x16f2cd['id'] + '.' + _0x16f2cd[_0x37a8d7(0xba)], document[_0x37a8d7(0x95)]('options')['innerHTML'] = '';
    const _0x2b3640 = _0x16f2cd[_0x37a8d7(0xbe)]['length'] > 0x1;
    for (const [_0xb774bc, _0x28ed1a] of Object[_0x37a8d7(0xce)](_0x16f2cd[_0x37a8d7(0xa0)])) {
        const _0x31e77c = document['createElement']('div');
        _0x31e77c[_0x37a8d7(0xd1)] = _0x37a8d7(0x97) + (_0x2b3640 ? _0x37a8d7(0xcb) : _0x37a8d7(0xa5)) + _0x37a8d7(0x9d) + _0xb774bc + _0x37a8d7(0xae) + _0xb774bc + ':\x20' + _0x28ed1a + '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>', document['getElementById'](_0x37a8d7(0xa0))['appendChild'](_0x31e77c);
    }
    document[_0x37a8d7(0x95)](_0x37a8d7(0xbe))[_0x37a8d7(0xa6)] = _0x16f2cd[_0x37a8d7(0xbe)];
}
function checkAnswer() {
    const _0x44ba8d = _0x2e57cc, _0x9aed8e = document['getElementById'](_0x44ba8d(0xbe))[_0x44ba8d(0xa6)], _0x1bd19f = Array['from'](document[_0x44ba8d(0x9f)]('input[name=\x22option\x22]:checked'))['map'](_0x59b9b7 => _0x59b9b7[_0x44ba8d(0xa6)])[_0x44ba8d(0xb7)]()[_0x44ba8d(0xd3)]('');
    totalQuestionsAnswered++, _0x1bd19f === _0x9aed8e ? (correctAnswers++, alert(_0x44ba8d(0xb8))) : alert(_0x44ba8d(0xb1) + _0x9aed8e[_0x44ba8d(0x98)]('')[_0x44ba8d(0xd3)](',\x20')), updateAccuracy(), updateProgress(), loadQuestion();
}
function updateAccuracy() {
    const _0x396630 = _0x2e57cc, _0x47a095 = (correctAnswers / totalQuestionsAnswered * 0x64)[_0x396630(0xbc)](0x2);
    document[_0x396630(0x95)]('accuracy')['innerText'] = '答對率:\x20' + _0x47a095 + '%';
}
function updateProgress() {
    const _0x15e934 = _0x2e57cc;
    document['getElementById'](_0x15e934(0xa2))['innerText'] = totalQuestionsAnswered + _0x15e934(0x96) + selectedQuestions['length'];
}
function resetParams() {
    i = -0x1, totalQuestionsAnswered = 0x0, correctAnswers = 0x0;
}
document['addEventListener']('DOMContentLoaded', () => {
    selectQuestionSet();
});
    </script>
</head>
<body>
   <span id="licenseArea">
      <h1>請輸入授權碼</h1>
      <input type="text" id="licenseCode" placeholder="Enter your license code">
      <button onclick="authorize()">授權</button>
   </span>
   
    <div id="quizContainer" class="quiz-container">
        <h1>測驗</h1>

        <!-- 題庫選擇下拉選單 -->
        <label for="questionSet">選擇題庫:</label>
        <select id="questionSet" onchange="selectQuestionSet()">
            <option value="1">題庫1</option>
            <option value="2">題庫2</option>
        </select>

        <button onclick="startQuiz()">開始測驗</button>

        <div id="question"></div>
        <div id="options"></div>
        <input type="hidden" id="answer">
        <button onclick="checkAnswer()">確定</button>
        <button onclick="loadQuestion()">下一題</button>
        <h2 id="accuracy">答對率: 0%</h2>
        <h2 id="progress"></h2>
    </div>
    
</body>
</html>
