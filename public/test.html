<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Quiz</title>
    <style>
        /* 全局樣式 */
        body {
          font-family: 'Arial', sans-serif;
          background-color: #f4f4f9;
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100vh;
        }
    
        /* 卡片樣式 */
        .quiz-container {
          background-color: #fff;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          border-radius: 10px;
          padding: 20px;
          width: 100%;
          max-width: 1600px;
          text-align: center;
          display: none;
        }
    
        h1 {
          color: #333;
          margin-bottom: 20px;
        }
    
        /* 題庫選擇區域 */
        #questionSet {
          padding: 10px;
          font-size: 16px;
          margin-bottom: 20px;
          border-radius: 5px;
          border: 1px solid #ccc;
        }
    
        /* 題目區域 */
        #question {
          font-size: 20px;
          font-weight: bold;
          margin-bottom: 20px;
        }
    
        /* 選項樣式 */
        #options {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }
    
        label {
          cursor: pointer;
          display: block;
          padding: 10px;
          background-color: #f9f9f9;
          border: 1px solid #ddd;
          border-radius: 5px;
          transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
    
        label:hover {
          background-color: #e0e0e0;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    
        input[type="number"] {
            width: 100%;
            max-width: 100px;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 8px;
            outline: none;
            transition: all 0.3s ease-in-out;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
        }

        input[type="checkbox"],
        input[type="radio"] {
          margin-right: 10px;
        }
    
        /* 按鈕樣式 */
        button {
          background-color: #4CAF50;
          color: white;
          border: none;
          padding: 10px 20px;
          font-size: 16px;
          border-radius: 5px;
          cursor: pointer;
          margin: 10px 5px;
          transition: background-color 0.3s ease;
        }
    
        button:hover {
          background-color: #45a049;
        }
    
        /* 正確率顯示 */
        #accuracy {
          font-size: 18px;
          font-weight: bold;
          background-color: #2196F3;
          color: white;
          padding: 10px;
          border-radius: 5px;
          display: inline-block;
          margin-top: 20px;
        }


        /* 手機樣式 */
        @media (max-width: 768px) {
            body {
                height: auto;
                padding: 20px;
            }

            .quiz-container {
                width: 100%;
                padding: 15px;
            }

            h1 {
                font-size: 24px;
            }

            #question {
                font-size: 18px;
            }

            label {
                font-size: 16px;
                padding: 8px;
            }

            button {
                width: 100%;
                margin: 5px 0;
            }

            #accuracy {
                font-size: 16px;
                padding: 8px;
            }

            #progress {
                font-size: 14px;
            }
        }

      </style>
    


    <script>
        const _0x5099cf = _0x4d8c;
(function (_0x3f929e, _0x4d55ac) {
    const _0x466a0a = _0x4d8c;
    const _0x5002bb = _0x3f929e();
    while (!![]) {
        try {
            const _0x4bc0d4 = -parseInt(_0x466a0a(0x10a)) / 0x1 + parseInt(_0x466a0a(0x140)) / 0x2 + -parseInt(_0x466a0a(0x12b)) / 0x3 + parseInt(_0x466a0a(0x11a)) / 0x4 * (-parseInt(_0x466a0a(0x108)) / 0x5) + parseInt(_0x466a0a(0x118)) / 0x6 * (-parseInt(_0x466a0a(0x134)) / 0x7) + parseInt(_0x466a0a(0x110)) / 0x8 * (parseInt(_0x466a0a(0x133)) / 0x9) + parseInt(_0x466a0a(0x142)) / 0xa;
            if (_0x4bc0d4 === _0x4d55ac) {
                break;
            } else {
                _0x5002bb['push'](_0x5002bb['shift']());
            }
        } catch (_0x1c7d7f) {
            _0x5002bb['push'](_0x5002bb['shift']());
        }
    }
}(_0x3711, 0x45609));
const _0x4e3cf8 = (function () {
    let _0x1a5b4b = !![];
    return function (_0xe0e0e5, _0xfc3970) {
        const _0x13e7b0 = _0x1a5b4b ? function () {
            if (_0xfc3970) {
                const _0x56d496 = _0xfc3970['apply'](_0xe0e0e5, arguments);
                _0xfc3970 = null;
                return _0x56d496;
            }
        } : function () {
        };
        _0x1a5b4b = ![];
        return _0x13e7b0;
    };
}());
const _0x5d971c = _0x4e3cf8(this, function () {
    const _0x11a573 = _0x4d8c;
    let _0x54f568;
    try {
        const _0x3b7428 = Function(_0x11a573(0x11f) + _0x11a573(0x141) + ');');
        _0x54f568 = _0x3b7428();
    } catch (_0x3bf4af) {
        _0x54f568 = window;
    }
    const _0x550e63 = _0x54f568[_0x11a573(0x135)] = _0x54f568[_0x11a573(0x135)] || {};
    const _0x39e762 = [
        _0x11a573(0x107),
        'warn',
        'info',
        _0x11a573(0x119),
        'exception',
        _0x11a573(0x13d),
        _0x11a573(0x115)
    ];
    for (let _0x3bc50a = 0x0; _0x3bc50a < _0x39e762[_0x11a573(0x12f)]; _0x3bc50a++) {
        const _0xbf55f7 = _0x4e3cf8[_0x11a573(0x11e)]['prototype']['bind'](_0x4e3cf8);
        const _0xa9b5d7 = _0x39e762[_0x3bc50a];
        const _0x2f1da9 = _0x550e63[_0xa9b5d7] || _0xbf55f7;
        _0xbf55f7[_0x11a573(0x10d)] = _0x4e3cf8['bind'](_0x4e3cf8);
        _0xbf55f7[_0x11a573(0x128)] = _0x2f1da9[_0x11a573(0x128)][_0x11a573(0x11c)](_0x2f1da9);
        _0x550e63[_0xa9b5d7] = _0xbf55f7;
    }
});
_0x5d971c();
let validTimeout;
function _0x4d8c(_0xef5b0e, _0xabe3e6) {
    const _0x467be5 = _0x3711();
    _0x4d8c = function (_0x5d971c, _0x4e3cf8) {
        _0x5d971c = _0x5d971c - 0x105;
        let _0x70b360 = _0x467be5[_0x5d971c];
        return _0x70b360;
    };
    return _0x4d8c(_0xef5b0e, _0xabe3e6);
}
let inputCode;
let i = -0x1;
let totalQuestionsAnswered = 0x0;
let correctAnswers = 0x0;
const secretKey = _0x5099cf(0x137);
async function generateLicenseCode() {
    const _0x5001a6 = _0x5099cf;
    const _0x46d877 = new Date();
    const _0x31424a = Math['floor'](_0x46d877[_0x5001a6(0x117)]() / (0x3e8 * 0x3c * 0x3c * 0x18 * 0x1e));
    const _0x11a713 = _0x31424a + '-' + secretKey;
    const _0x167b6b = new TextEncoder();
    const _0x1466e5 = _0x167b6b[_0x5001a6(0x13c)](_0x11a713);
    const _0x8be9fe = await crypto[_0x5001a6(0x132)]['digest'](_0x5001a6(0x12d), _0x1466e5);
    const _0x2d1356 = Array[_0x5001a6(0x129)](new Uint8Array(_0x8be9fe));
    return _0x2d1356['map'](_0x2425bb => _0x2425bb[_0x5001a6(0x128)](0x10)['padStart'](0x2, '0'))['join']('');
}
async function authorize() {
    const _0x51228a = _0x5099cf;
    inputCode = document[_0x51228a(0x10f)](_0x51228a(0x126))[_0x51228a(0x145)];
    const _0x13a6d5 = await generateLicenseCode();
    if (inputCode === _0x13a6d5) {
        alert('授權成功！');
        document['getElementById']('quizContainer')[_0x51228a(0x10c)][_0x51228a(0x109)] = _0x51228a(0x13a);
        document[_0x51228a(0x10f)]('licenseArea')[_0x51228a(0x10c)][_0x51228a(0x109)] = _0x51228a(0x12a);
        checkLicenseValidity();
    } else {
        alert(_0x51228a(0x13f));
    }
}
async function checkLicenseValidity() {
    const _0x4c641f = _0x5099cf;
    const _0x328d45 = await generateLicenseCode();
    if (_0x328d45 === inputCode) {
        console[_0x4c641f(0x107)](_0x4c641f(0x125));
        validTimeout = setTimeout(checkLicenseValidity, 0x18 * 0x3c * 0x3c * 0x3e8);
    } else {
        alert(_0x4c641f(0x136));
        document[_0x4c641f(0x10f)](_0x4c641f(0x111))['style'][_0x4c641f(0x109)] = _0x4c641f(0x12a);
        document[_0x4c641f(0x10f)](_0x4c641f(0x12c))['style']['display'] = _0x4c641f(0x13a);
        resetLicenseCode();
    }
}
function resetLicenseCode() {
    const _0x596064 = _0x5099cf;
    clearTimeout(validTimeout);
    document[_0x596064(0x10f)](_0x596064(0x126))['value'] = '';
}
async function getQuestionJson(_0x2336d6) {
    const _0x5d0222 = _0x5099cf;
    let _0x5900bb = _0x5d0222(0x105) + _0x2336d6;
    let _0x28183d = _0x5d0222(0x130) + _0x2336d6;
    try {
        let _0x4b624d = await fetch(_0x28183d);
        let _0x504026 = await _0x4b624d['json']();
        return _0x504026;
    } catch (_0x5d858c) {
        console[_0x5d0222(0x107)]('Error:\x20' + _0x5d858c);
    }
}
async function selectQuestionSet() {
    const _0x142d1f = _0x5099cf;
    const _0x2832c3 = document[_0x142d1f(0x10f)](_0x142d1f(0x112))['value'];
    selectedQuestions = _0x2832c3 ? await getQuestionJson(_0x2832c3) : await getQuestionJson(0x1);
    updateProgress();
    resetParams();
}
function startQuiz() {
    const _0x50043b = _0x5099cf;
    if (selectedQuestions[_0x50043b(0x12f)] === 0x0) {
        alert(_0x50043b(0x131));
        return;
    }
    loadQuestion();
}
function getRandomQuestion(_0x132dc5) {
    const _0x2be893 = _0x5099cf;
    if (!Number['isNaN'](_0x132dc5)) {
        i = _0x132dc5 - 0x1;
    } else {
        i++;
    }
    if (i > selectedQuestions[_0x2be893(0x12f)] - 0x1) {
        i = -0x1;
    }
    return selectedQuestions[i];
}
function loadQuestion(_0x51106b) {
    const _0x25eaa5 = _0x5099cf;
    const _0x376152 = getRandomQuestion(_0x51106b);
    document[_0x25eaa5(0x10f)](_0x25eaa5(0x106))[_0x25eaa5(0x13b)] = _0x376152['id'] + '.' + _0x376152[_0x25eaa5(0x106)];
    document[_0x25eaa5(0x10f)](_0x25eaa5(0x139))[_0x25eaa5(0x13e)] = '';
    const _0x46e2e6 = _0x376152[_0x25eaa5(0x146)]['length'] > 0x1;
    for (const [_0x4becf4, _0x514a28] of Object[_0x25eaa5(0x124)](_0x376152[_0x25eaa5(0x139)])) {
        const _0x15dcc7 = document['createElement']('div');
        _0x15dcc7[_0x25eaa5(0x13e)] = '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22' + (_0x46e2e6 ? _0x25eaa5(0x144) : 'radio') + _0x25eaa5(0x11d) + _0x4becf4 + _0x25eaa5(0x138) + _0x4becf4 + ':\x20' + _0x514a28 + _0x25eaa5(0x143);
        document[_0x25eaa5(0x10f)](_0x25eaa5(0x139))[_0x25eaa5(0x116)](_0x15dcc7);
    }
    document[_0x25eaa5(0x10f)](_0x25eaa5(0x146))['value'] = _0x376152[_0x25eaa5(0x146)];
}
function jumpToQuestion() {
    const _0x126669 = _0x5099cf;
    const _0x5df035 = parseInt(document[_0x126669(0x10f)](_0x126669(0x121))['value'], 0xa);
    if (isNaN(_0x5df035) || _0x5df035 < 0x1 || _0x5df035 > selectedQuestions['length']) {
        alert('請輸入有效的題號！');
        return;
    }
    loadQuestion(_0x5df035);
    document[_0x126669(0x10f)](_0x126669(0x121))[_0x126669(0x145)] = '';
}
function checkAnswer() {
    const _0x179b70 = _0x5099cf;
    const _0x366215 = document['getElementById'](_0x179b70(0x146))[_0x179b70(0x145)];
    const _0x5ef136 = Array[_0x179b70(0x129)](document['querySelectorAll'](_0x179b70(0x114)))['map'](_0x2962af => _0x2962af[_0x179b70(0x145)])['sort']()[_0x179b70(0x122)]('');
    totalQuestionsAnswered++;
    if (_0x5ef136 === _0x366215) {
        correctAnswers++;
        alert(_0x179b70(0x10e));
    } else {
        alert(_0x179b70(0x113) + _0x366215[_0x179b70(0x11b)]('')[_0x179b70(0x122)](',\x20'));
    }
    updateAccuracy();
    updateProgress();
    loadQuestion();
}
function _0x3711() {
    const _0x358da3 = [
        '3409651LMaerM',
        'console',
        '授權過期！請重新輸入授權碼。',
        'mySecretKey123',
        '\x22>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',
        'options',
        'block',
        'innerText',
        'encode',
        'table',
        'innerHTML',
        '授權失敗！請輸入正確的授權碼。',
        '602132CvQRHS',
        '{}.constructor(\x22return\x20this\x22)(\x20)',
        '3044670QjfDQx',
        '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>',
        'checkbox',
        'value',
        'answer',
        'http://localhost:3000/getQuestion/',
        'question',
        'log',
        '4145azozIR',
        'display',
        '117046TbEBCn',
        '\x20/\x20',
        'style',
        '__proto__',
        'Correct!',
        'getElementById',
        '40cTDjkB',
        'quizContainer',
        'questionSet',
        'Wrong!\x20The\x20correct\x20answers\x20are\x20',
        'input[name=\x22option\x22]:checked',
        'trace',
        'appendChild',
        'getTime',
        '6XPyhoo',
        'error',
        '316rPXBfn',
        'split',
        'bind',
        '\x22\x20name=\x22option\x22\x20value=\x22',
        'constructor',
        'return\x20(function()\x20',
        'DOMContentLoaded',
        'jumpTo',
        'join',
        '答對率:\x20',
        'entries',
        '授權有效',
        'licenseCode',
        'accuracy',
        'toString',
        'from',
        'none',
        '58872WoUgdX',
        'licenseArea',
        'SHA-256',
        'progress',
        'length',
        'https://aws-test-0kjz.onrender.com/getQuestion/',
        'Please\x20select\x20a\x20question\x20set\x20first!',
        'subtle',
        '662202aBXWDE'
    ];
    _0x3711 = function () {
        return _0x358da3;
    };
    return _0x3711();
}
function updateAccuracy() {
    const _0x2eac92 = _0x5099cf;
    const _0x2b11fd = (correctAnswers / totalQuestionsAnswered * 0x64)['toFixed'](0x2);
    document[_0x2eac92(0x10f)](_0x2eac92(0x127))[_0x2eac92(0x13b)] = _0x2eac92(0x123) + _0x2b11fd + '%';
}
function updateProgress() {
    const _0x13491b = _0x5099cf;
    document[_0x13491b(0x10f)](_0x13491b(0x12e))[_0x13491b(0x13b)] = totalQuestionsAnswered + _0x13491b(0x10b) + selectedQuestions[_0x13491b(0x12f)];
}
function resetParams() {
    i = -0x1;
    totalQuestionsAnswered = 0x0;
    correctAnswers = 0x0;
}
document['addEventListener'](_0x5099cf(0x120), () => {
    selectQuestionSet();
});
    </script>
</head>
<body>
   <span id="licenseArea">
      <h1>請輸入授權碼</h1>
      <input type="text" id="licenseCode" placeholder="Enter your license code">
      <button onclick="authorize()">授權</button>
   </span>
   
    <div id="quizContainer" class="quiz-container">
        <h1>測驗</h1>

        <!-- 題庫選擇下拉選單 -->
        <label for="questionSet">選擇題庫:</label>
        <select id="questionSet" onchange="selectQuestionSet()">
            <option value="1">題庫1</option>
            <option value="2">題庫2</option>
            <option value="3">題庫3</option>
            <option value="4">題庫GCP_ACE</option>
        </select>

        <button onclick="startQuiz()">開始測驗</button>

        <div id="question"></div>
        <div id="options"></div>
        <input type="hidden" id="answer">
        <button onclick="checkAnswer()">確定</button>
        <button onclick="loadQuestion()">下一題</button>
        <label for="jumpTo">跳至題號:</label>
        <input type="number" id="jumpTo" min="1" placeholder="輸入題號">
        <button onclick="jumpToQuestion()">跳轉</button>
        <h2 id="accuracy">答對率: 0%</h2>
        <h2 id="progress"></h2>
    </div>
    
</body>
</html>
