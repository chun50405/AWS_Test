<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Quiz</title>
    <style>
        /* 全局樣式 */
        body {
          font-family: 'Arial', sans-serif;
          background-color: #f4f4f9;
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100vh;
        }
    
        /* 卡片樣式 */
        .quiz-container {
          background-color: #fff;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          border-radius: 10px;
          padding: 20px;
          width: 100%;
          max-width: 1600px;
          text-align: center;
          display: none;
        }
    
        h1 {
          color: #333;
          margin-bottom: 20px;
        }
    
        /* 題庫選擇區域 */
        #questionSet {
          padding: 10px;
          font-size: 16px;
          margin-bottom: 20px;
          border-radius: 5px;
          border: 1px solid #ccc;
        }
    
        /* 題目區域 */
        #question {
          font-size: 20px;
          font-weight: bold;
          margin-bottom: 20px;
        }
    
        /* 選項樣式 */
        #options {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }
    
        label {
          cursor: pointer;
          display: block;
          padding: 10px;
          background-color: #f9f9f9;
          border: 1px solid #ddd;
          border-radius: 5px;
          transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
    
        label:hover {
          background-color: #e0e0e0;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    
        input[type="checkbox"],
        input[type="radio"] {
          margin-right: 10px;
        }
    
        /* 按鈕樣式 */
        button {
          background-color: #4CAF50;
          color: white;
          border: none;
          padding: 10px 20px;
          font-size: 16px;
          border-radius: 5px;
          cursor: pointer;
          margin: 10px 5px;
          transition: background-color 0.3s ease;
        }
    
        button:hover {
          background-color: #45a049;
        }
    
        /* 正確率顯示 */
        #accuracy {
          font-size: 18px;
          font-weight: bold;
          background-color: #2196F3;
          color: white;
          padding: 10px;
          border-radius: 5px;
          display: inline-block;
          margin-top: 20px;
        }


        /* 手機樣式 */
        @media (max-width: 768px) {
            body {
                height: auto;
                padding: 20px;
            }

            .quiz-container {
                width: 100%;
                padding: 15px;
            }

            h1 {
                font-size: 24px;
            }

            #question {
                font-size: 18px;
            }

            label {
                font-size: 16px;
                padding: 8px;
            }

            button {
                width: 100%;
                margin: 5px 0;
            }

            #accuracy {
                font-size: 16px;
                padding: 8px;
            }

            #progress {
                font-size: 14px;
            }
        }

      </style>
    


    <script>
    const _0x4f312d = _0x5d2f;
(function (_0x2bfea6, _0x94bca4) {
    const _0x17967f = _0x5d2f, _0x44a3b7 = _0x2bfea6();
    while (!![]) {
        try {
            const _0x198d70 = -parseInt(_0x17967f(0xdb)) / 0x1 * (parseInt(_0x17967f(0xdf)) / 0x2) + -parseInt(_0x17967f(0xcd)) / 0x3 + -parseInt(_0x17967f(0xc7)) / 0x4 + -parseInt(_0x17967f(0xea)) / 0x5 * (-parseInt(_0x17967f(0xe6)) / 0x6) + -parseInt(_0x17967f(0xcc)) / 0x7 + -parseInt(_0x17967f(0xb8)) / 0x8 * (parseInt(_0x17967f(0xc5)) / 0x9) + parseInt(_0x17967f(0xdc)) / 0xa;
            if (_0x198d70 === _0x94bca4)
                break;
            else
                _0x44a3b7['push'](_0x44a3b7['shift']());
        } catch (_0x10e045) {
            _0x44a3b7['push'](_0x44a3b7['shift']());
        }
    }
}(_0xc0ae, 0x80961));
const _0x4ce92b = (function () {
        let _0xde6859 = !![];
        return function (_0x184eac, _0x283171) {
            const _0x4f10e4 = _0xde6859 ? function () {
                if (_0x283171) {
                    const _0x240eef = _0x283171['apply'](_0x184eac, arguments);
                    return _0x283171 = null, _0x240eef;
                }
            } : function () {
            };
            return _0xde6859 = ![], _0x4f10e4;
        };
    }()), _0xdd6687 = _0x4ce92b(this, function () {
        const _0x5ec659 = _0x5d2f, _0x5650e5 = function () {
                const _0x49adcf = _0x5d2f;
                let _0x5eb7ef;
                try {
                    _0x5eb7ef = Function('return\x20(function()\x20' + _0x49adcf(0xce) + ');')();
                } catch (_0x32b90a) {
                    _0x5eb7ef = window;
                }
                return _0x5eb7ef;
            }, _0x3cc272 = _0x5650e5(), _0x17dfea = _0x3cc272[_0x5ec659(0xd3)] = _0x3cc272[_0x5ec659(0xd3)] || {}, _0x3b472d = [
                _0x5ec659(0xc9),
                _0x5ec659(0xca),
                _0x5ec659(0xe4),
                _0x5ec659(0xf8),
                _0x5ec659(0xbf),
                _0x5ec659(0xd5),
                'trace'
            ];
        for (let _0x24b172 = 0x0; _0x24b172 < _0x3b472d[_0x5ec659(0xe1)]; _0x24b172++) {
            const _0x5e9186 = _0x4ce92b[_0x5ec659(0xf6)][_0x5ec659(0xee)][_0x5ec659(0xd1)](_0x4ce92b), _0x50e665 = _0x3b472d[_0x24b172], _0x52b917 = _0x17dfea[_0x50e665] || _0x5e9186;
            _0x5e9186[_0x5ec659(0xf5)] = _0x4ce92b[_0x5ec659(0xd1)](_0x4ce92b), _0x5e9186[_0x5ec659(0xf0)] = _0x52b917[_0x5ec659(0xf0)]['bind'](_0x52b917), _0x17dfea[_0x50e665] = _0x5e9186;
        }
    });
_0xdd6687();
let validTimeout, inputCode, i = -0x1, totalQuestionsAnswered = 0x0, correctAnswers = 0x0;
const secretKey = _0x4f312d(0xbd);
async function generateLicenseCode() {
    const _0x338662 = _0x4f312d, _0x5b2730 = new Date(), _0x475058 = Math[_0x338662(0xd9)](_0x5b2730['getTime']() / (0x3e8 * 0x3c * 0x3c * 0x18 * 0x1e)), _0x3f9b13 = _0x475058 + '-' + secretKey, _0x19bf1f = new TextEncoder(), _0x50c7c2 = _0x19bf1f['encode'](_0x3f9b13), _0x48d6e5 = await crypto[_0x338662(0xcb)][_0x338662(0xbb)](_0x338662(0xc8), _0x50c7c2), _0x51f70d = Array[_0x338662(0xe8)](new Uint8Array(_0x48d6e5));
    return _0x51f70d[_0x338662(0xb9)](_0x3a309a => _0x3a309a['toString'](0x10)[_0x338662(0xd6)](0x2, '0'))['join']('');
}
async function authorize() {
    const _0x33bcf0 = _0x4f312d;
    inputCode = document[_0x33bcf0(0xed)](_0x33bcf0(0xe3))['value'];
    const _0x1eebdd = await generateLicenseCode();
    inputCode === _0x1eebdd ? (alert(_0x33bcf0(0xe9)), document[_0x33bcf0(0xed)](_0x33bcf0(0xc6))[_0x33bcf0(0xd2)][_0x33bcf0(0xf4)] = _0x33bcf0(0xc0), document[_0x33bcf0(0xed)]('licenseArea')['style'][_0x33bcf0(0xf4)] = 'none', checkLicenseValidity()) : alert(_0x33bcf0(0xd8));
}
async function checkLicenseValidity() {
    const _0x400ec4 = _0x4f312d, _0x57f73c = await generateLicenseCode();
    _0x57f73c === inputCode ? (console[_0x400ec4(0xc9)](_0x400ec4(0xc4)), validTimeout = setTimeout(checkLicenseValidity, 0x18 * 0x3c * 0x3c * 0x3e8)) : (alert(_0x400ec4(0xef)), document[_0x400ec4(0xed)](_0x400ec4(0xc6))[_0x400ec4(0xd2)]['display'] = _0x400ec4(0xba), document[_0x400ec4(0xed)]('licenseArea')['style'][_0x400ec4(0xf4)] = _0x400ec4(0xc0), resetLicenseCode());
}
function resetLicenseCode() {
    const _0x5338fe = _0x4f312d;
    clearTimeout(validTimeout), document[_0x5338fe(0xed)](_0x5338fe(0xe3))[_0x5338fe(0xe7)] = '';
}
async function getQuestionJson(_0x3ae2ba) {
    const _0x4cbf28 = _0x4f312d;
    let _0x42ebf6 = _0x4cbf28(0xb4) + _0x3ae2ba;
    try {
        let _0x8268e7 = await fetch(_0x42ebf6), _0x5c2c1b = await _0x8268e7['json']();
        return _0x5c2c1b;
    } catch (_0x5048f7) {
        console['log'](_0x4cbf28(0xd0) + _0x5048f7);
    }
}
async function selectQuestionSet() {
    const _0x192d4f = _0x4f312d, _0x4ddab9 = document['getElementById'](_0x192d4f(0xf7))[_0x192d4f(0xe7)];
    selectedQuestions = _0x4ddab9 ? await getQuestionJson(_0x4ddab9) : await getQuestionJson(0x1), updateProgress(), resetParams();
}
function startQuiz() {
    const _0x4e02cf = _0x4f312d;
    if (selectedQuestions['length'] === 0x0) {
        alert(_0x4e02cf(0xe5));
        return;
    }
    loadQuestion();
}
function getRandomQuestion() {
    const _0x1852ea = _0x4f312d;
    return i++, i > selectedQuestions[_0x1852ea(0xe1)] - 0x1 && (i = -0x1), selectedQuestions[i];
}
function _0xc0ae() {
    const _0x5f2bf8 = [
        'from',
        '授權成功！',
        '100AigPqF',
        'progress',
        '\x22>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',
        'getElementById',
        'prototype',
        '授權過期！請重新輸入授權碼。',
        'toString',
        'accuracy',
        'radio',
        'Correct!',
        'display',
        '__proto__',
        'constructor',
        'questionSet',
        'error',
        'question',
        'innerText',
        'https://aws-test-0kjz.onrender.com/getQuestion/',
        '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>',
        'Wrong!\x20The\x20correct\x20answers\x20are\x20',
        'options',
        '1507576QVeyDy',
        'map',
        'none',
        'digest',
        '\x20/\x20',
        'mySecretKey123',
        'answer',
        'exception',
        'block',
        'toFixed',
        '\x22\x20name=\x22option\x22\x20value=\x22',
        'DOMContentLoaded',
        '授權有效',
        '36PyGODc',
        'quizContainer',
        '4159248thUaJm',
        'SHA-256',
        'log',
        'warn',
        'subtle',
        '7193396qELlEI',
        '2867514eCbVsl',
        '{}.constructor(\x22return\x20this\x22)(\x20)',
        'querySelectorAll',
        'Error:\x20',
        'bind',
        'style',
        'console',
        'addEventListener',
        'table',
        'padStart',
        'checkbox',
        '授權失敗！請輸入正確的授權碼。',
        'floor',
        'join',
        '316TUBHXK',
        '43434270WoipjA',
        'appendChild',
        'innerHTML',
        '5374uKbqAL',
        'entries',
        'length',
        'createElement',
        'licenseCode',
        'info',
        'Please\x20select\x20a\x20question\x20set\x20first!',
        '242826dIVUmz',
        'value'
    ];
    _0xc0ae = function () {
        return _0x5f2bf8;
    };
    return _0xc0ae();
}
function _0x5d2f(_0x1c75a4, _0xa73eb8) {
    const _0x1b6e59 = _0xc0ae();
    return _0x5d2f = function (_0xdd6687, _0x4ce92b) {
        _0xdd6687 = _0xdd6687 - 0xb2;
        let _0x536b33 = _0x1b6e59[_0xdd6687];
        return _0x536b33;
    }, _0x5d2f(_0x1c75a4, _0xa73eb8);
}
function loadQuestion() {
    const _0x5bf8be = _0x4f312d, _0x421660 = getRandomQuestion();
    document[_0x5bf8be(0xed)](_0x5bf8be(0xb2))['innerText'] = _0x421660['id'] + '.' + _0x421660[_0x5bf8be(0xb2)], document[_0x5bf8be(0xed)](_0x5bf8be(0xb7))[_0x5bf8be(0xde)] = '';
    const _0x2ed5f7 = _0x421660['answer']['length'] > 0x1;
    for (const [_0x2c1c21, _0x36f1cc] of Object[_0x5bf8be(0xe0)](_0x421660[_0x5bf8be(0xb7)])) {
        const _0x487f8f = document[_0x5bf8be(0xe2)]('div');
        _0x487f8f[_0x5bf8be(0xde)] = '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22' + (_0x2ed5f7 ? _0x5bf8be(0xd7) : _0x5bf8be(0xf2)) + _0x5bf8be(0xc2) + _0x2c1c21 + _0x5bf8be(0xec) + _0x2c1c21 + ':\x20' + _0x36f1cc + _0x5bf8be(0xb5), document[_0x5bf8be(0xed)](_0x5bf8be(0xb7))[_0x5bf8be(0xdd)](_0x487f8f);
    }
    document[_0x5bf8be(0xed)]('answer')['value'] = _0x421660['answer'];
}
function checkAnswer() {
    const _0x2643cb = _0x4f312d, _0x546197 = document[_0x2643cb(0xed)](_0x2643cb(0xbe))['value'], _0x28fe59 = Array[_0x2643cb(0xe8)](document[_0x2643cb(0xcf)]('input[name=\x22option\x22]:checked'))[_0x2643cb(0xb9)](_0x175fc6 => _0x175fc6[_0x2643cb(0xe7)])['sort']()['join']('');
    totalQuestionsAnswered++, _0x28fe59 === _0x546197 ? (correctAnswers++, alert(_0x2643cb(0xf3))) : alert(_0x2643cb(0xb6) + _0x546197['split']('')[_0x2643cb(0xda)](',\x20')), updateAccuracy(), updateProgress(), loadQuestion();
}
function updateAccuracy() {
    const _0x576e01 = _0x4f312d, _0x5bfd45 = (correctAnswers / totalQuestionsAnswered * 0x64)[_0x576e01(0xc1)](0x2);
    document['getElementById'](_0x576e01(0xf1))[_0x576e01(0xb3)] = '答對率:\x20' + _0x5bfd45 + '%';
}
function updateProgress() {
    const _0x3e1ea9 = _0x4f312d;
    document[_0x3e1ea9(0xed)](_0x3e1ea9(0xeb))['innerText'] = totalQuestionsAnswered + _0x3e1ea9(0xbc) + selectedQuestions[_0x3e1ea9(0xe1)];
}
function resetParams() {
    i = -0x1, totalQuestionsAnswered = 0x0, correctAnswers = 0x0;
}
document[_0x4f312d(0xd4)](_0x4f312d(0xc3), () => {
    selectQuestionSet();
});
    </script>
</head>
<body>
   <span id="licenseArea">
      <h1>請輸入授權碼</h1>
      <input type="text" id="licenseCode" placeholder="Enter your license code">
      <button onclick="authorize()">授權</button>
   </span>
   
    <div id="quizContainer" class="quiz-container">
        <h1>測驗</h1>

        <!-- 題庫選擇下拉選單 -->
        <label for="questionSet">選擇題庫:</label>
        <select id="questionSet" onchange="selectQuestionSet()">
            <option value="1">題庫1</option>
            <option value="2">題庫2</option>
        </select>

        <button onclick="startQuiz()">開始測驗</button>

        <div id="question"></div>
        <div id="options"></div>
        <input type="hidden" id="answer">
        <button onclick="checkAnswer()">確定</button>
        <button onclick="loadQuestion()">下一題</button>
        <h2 id="accuracy">答對率: 0%</h2>
        <h2 id="progress"></h2>
    </div>
    
</body>
</html>
